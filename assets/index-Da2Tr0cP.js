(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var vf={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function I0(){if(Kp)return Ul;Kp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var Zp;function N0(){return Zp||(Zp=1,vf.exports=I0()),vf.exports}var ne=N0(),Ef={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function O0(){if($p)return Et;$p=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,rt={};function J(D,K,et){this.props=D,this.context=K,this.refs=rt,this.updater=et||Y}J.prototype.isReactComponent={},J.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Tt(){}Tt.prototype=J.prototype;function pt(D,K,et){this.props=D,this.context=K,this.refs=rt,this.updater=et||Y}var ct=pt.prototype=new Tt;ct.constructor=pt,Z(ct,J.prototype),ct.isPureReactComponent=!0;var qt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function O(D,K,et,$,ot,St){return et=St.ref,{$$typeof:s,type:D,key:K,ref:et!==void 0?et:null,props:St}}function S(D,K){return O(D.type,K,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function I(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return K[et]})}var N=/\/+/g;function U(D,K){return typeof D=="object"&&D!==null&&D.key!=null?I(""+D.key):K.toString(36)}function R(){}function Me(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function re(D,K,et,$,ot){var St=typeof D;(St==="undefined"||St==="boolean")&&(D=null);var gt=!1;if(D===null)gt=!0;else switch(St){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(D.$$typeof){case s:case e:gt=!0;break;case A:return gt=D._init,re(gt(D._payload),K,et,$,ot)}}if(gt)return ot=ot(D),gt=$===""?"."+U(D,0):$,qt(ot)?(et="",gt!=null&&(et=gt.replace(N,"$&/")+"/"),re(ot,K,et,"",function(Un){return Un})):ot!=null&&(w(ot)&&(ot=S(ot,et+(ot.key==null||D&&D.key===ot.key?"":(""+ot.key).replace(N,"$&/")+"/")+gt)),K.push(ot)),1;gt=0;var we=$===""?".":$+":";if(qt(D))for(var Kt=0;Kt<D.length;Kt++)$=D[Kt],St=we+U($,Kt),gt+=re($,K,et,St,ot);else if(Kt=x(D),typeof Kt=="function")for(D=Kt.call(D),Kt=0;!($=D.next()).done;)$=$.value,St=we+U($,Kt++),gt+=re($,K,et,St,ot);else if(St==="object"){if(typeof D.then=="function")return re(Me(D),K,et,$,ot);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return gt}function j(D,K,et){if(D==null)return D;var $=[],ot=0;return re(D,$,"","",function(St){return K.call(et,St,ot++)}),$}function tt(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ut(){}return Et.Children={map:j,forEach:function(D,K,et){j(D,function(){K.apply(this,arguments)},et)},count:function(D){var K=0;return j(D,function(){K++}),K},toArray:function(D){return j(D,function(K){return K})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Et.Component=J,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=pt,Et.StrictMode=a,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Et.__COMPILER_RUNTIME={__proto__:null,c:function(D){return vt.H.useMemoCache(D)}},Et.cache=function(D){return function(){return D.apply(null,arguments)}},Et.cloneElement=function(D,K,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var $=Z({},D.props),ot=D.key,St=void 0;if(K!=null)for(gt in K.ref!==void 0&&(St=void 0),K.key!==void 0&&(ot=""+K.key),K)!zt.call(K,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&K.ref===void 0||($[gt]=K[gt]);var gt=arguments.length-2;if(gt===1)$.children=et;else if(1<gt){for(var we=Array(gt),Kt=0;Kt<gt;Kt++)we[Kt]=arguments[Kt+2];$.children=we}return O(D.type,ot,void 0,void 0,St,$)},Et.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Et.createElement=function(D,K,et){var $,ot={},St=null;if(K!=null)for($ in K.key!==void 0&&(St=""+K.key),K)zt.call(K,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ot[$]=K[$]);var gt=arguments.length-2;if(gt===1)ot.children=et;else if(1<gt){for(var we=Array(gt),Kt=0;Kt<gt;Kt++)we[Kt]=arguments[Kt+2];ot.children=we}if(D&&D.defaultProps)for($ in gt=D.defaultProps,gt)ot[$]===void 0&&(ot[$]=gt[$]);return O(D,St,void 0,void 0,null,ot)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(D){return{$$typeof:p,render:D}},Et.isValidElement=w,Et.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:tt}},Et.memo=function(D,K){return{$$typeof:_,type:D,compare:K===void 0?null:K}},Et.startTransition=function(D){var K=vt.T,et={};vt.T=et;try{var $=D(),ot=vt.S;ot!==null&&ot(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Ut,lt)}catch(St){lt(St)}finally{vt.T=K}},Et.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Et.use=function(D){return vt.H.use(D)},Et.useActionState=function(D,K,et){return vt.H.useActionState(D,K,et)},Et.useCallback=function(D,K){return vt.H.useCallback(D,K)},Et.useContext=function(D){return vt.H.useContext(D)},Et.useDebugValue=function(){},Et.useDeferredValue=function(D,K){return vt.H.useDeferredValue(D,K)},Et.useEffect=function(D,K,et){var $=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(D,K)},Et.useId=function(){return vt.H.useId()},Et.useImperativeHandle=function(D,K,et){return vt.H.useImperativeHandle(D,K,et)},Et.useInsertionEffect=function(D,K){return vt.H.useInsertionEffect(D,K)},Et.useLayoutEffect=function(D,K){return vt.H.useLayoutEffect(D,K)},Et.useMemo=function(D,K){return vt.H.useMemo(D,K)},Et.useOptimistic=function(D,K){return vt.H.useOptimistic(D,K)},Et.useReducer=function(D,K,et){return vt.H.useReducer(D,K,et)},Et.useRef=function(D){return vt.H.useRef(D)},Et.useState=function(D){return vt.H.useState(D)},Et.useSyncExternalStore=function(D,K,et){return vt.H.useSyncExternalStore(D,K,et)},Et.useTransition=function(){return vt.H.useTransition()},Et.version="19.1.0",Et}var Jp;function nd(){return Jp||(Jp=1,Ef.exports=O0()),Ef.exports}var ls=nd(),Tf={exports:{}},Ll={},Af={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function M0(){return Wp||(Wp=1,function(s){function e(j,tt){var lt=j.length;j.push(tt);t:for(;0<lt;){var Ut=lt-1>>>1,D=j[Ut];if(0<u(D,tt))j[Ut]=tt,j[lt]=D,lt=Ut;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var tt=j[0],lt=j.pop();if(lt!==tt){j[0]=lt;t:for(var Ut=0,D=j.length,K=D>>>1;Ut<K;){var et=2*(Ut+1)-1,$=j[et],ot=et+1,St=j[ot];if(0>u($,lt))ot<D&&0>u(St,$)?(j[Ut]=St,j[ot]=lt,Ut=ot):(j[Ut]=$,j[et]=lt,Ut=et);else if(ot<D&&0>u(St,lt))j[Ut]=St,j[ot]=lt,Ut=ot;else break t}}return tt}function u(j,tt){var lt=j.sortIndex-tt.sortIndex;return lt!==0?lt:j.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,V=null,x=3,Y=!1,Z=!1,rt=!1,J=!1,Tt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function qt(j){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=j)a(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function vt(j){if(rt=!1,qt(j),!Z)if(i(v)!==null)Z=!0,zt||(zt=!0,U());else{var tt=i(_);tt!==null&&re(vt,tt.startTime-j)}}var zt=!1,O=-1,S=5,w=-1;function I(){return J?!0:!(s.unstable_now()-w<S)}function N(){if(J=!1,zt){var j=s.unstable_now();w=j;var tt=!0;try{t:{Z=!1,rt&&(rt=!1,pt(O),O=-1),Y=!0;var lt=x;try{e:{for(qt(j),V=i(v);V!==null&&!(V.expirationTime>j&&I());){var Ut=V.callback;if(typeof Ut=="function"){V.callback=null,x=V.priorityLevel;var D=Ut(V.expirationTime<=j);if(j=s.unstable_now(),typeof D=="function"){V.callback=D,qt(j),tt=!0;break e}V===i(v)&&a(v),qt(j)}else a(v);V=i(v)}if(V!==null)tt=!0;else{var K=i(_);K!==null&&re(vt,K.startTime-j),tt=!1}}break t}finally{V=null,x=lt,Y=!1}tt=void 0}}finally{tt?U():zt=!1}}}var U;if(typeof ct=="function")U=function(){ct(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Me=R.port2;R.port1.onmessage=N,U=function(){Me.postMessage(null)}}else U=function(){Tt(N,0)};function re(j,tt){O=Tt(function(){j(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(j){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var lt=x;x=tt;try{return j()}finally{x=lt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var lt=x;x=j;try{return tt()}finally{x=lt}},s.unstable_scheduleCallback=function(j,tt,lt){var Ut=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Ut+lt:Ut):lt=Ut,j){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,j={id:A++,callback:tt,priorityLevel:j,startTime:lt,expirationTime:D,sortIndex:-1},lt>Ut?(j.sortIndex=lt,e(_,j),i(v)===null&&j===i(_)&&(rt?(pt(O),O=-1):rt=!0,re(vt,lt-Ut))):(j.sortIndex=D,e(v,j),Z||Y||(Z=!0,zt||(zt=!0,U()))),j},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(j){var tt=x;return function(){var lt=x;x=tt;try{return j.apply(this,arguments)}finally{x=lt}}}}(Sf)),Sf}var ty;function x0(){return ty||(ty=1,Af.exports=M0()),Af.exports}var bf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function U0(){if(ey)return Ge;ey=1;var s=nd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:V==null?null:""+V,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ge.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Ge.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Ge.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ge.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,V=p(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:V,integrity:x,fetchPriority:Y}):A==="script"&&a.d.X(v,{crossOrigin:V,integrity:x,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Ge.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,V=p(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:V,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Ge.requestFormReset=function(v){a.d.r(v)},Ge.unstable_batchedUpdates=function(v,_){return v(_)},Ge.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var ny;function L0(){if(ny)return bf.exports;ny=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),bf.exports=U0(),bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function z0(){if(iy)return Ll;iy=1;var s=x0(),e=nd(),i=L0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),pt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case J:return"Profiler";case rt:return"StrictMode";case vt:return"Suspense";case zt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case pt:return(t._context.displayName||"Context")+".Consumer";case qt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var re=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Ut=[],D=-1;function K(t){return{current:t}}function et(t){0>D||(t.current=Ut[D],Ut[D]=null,D--)}function $(t,n){D++,Ut[D]=t.current,t.current=n}var ot=K(null),St=K(null),gt=K(null),we=K(null);function Kt(t,n){switch($(gt,n),$(St,t),$(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Sp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Sp(n),t=bp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ot),$(ot,t)}function Un(){et(ot),et(St),et(gt)}function xi(t){t.memoizedState!==null&&$(we,t);var n=ot.current,r=bp(n,t.type);n!==r&&($(St,t),$(ot,r))}function ri(t){St.current===t&&(et(ot),et(St)),we.current===t&&(et(we),Il._currentValue=lt)}var Er=Object.prototype.hasOwnProperty,Tr=s.unstable_scheduleCallback,Ar=s.unstable_cancelCallback,Ds=s.unstable_shouldYield,lu=s.unstable_requestPaint,fn=s.unstable_now,_c=s.unstable_getCurrentPriorityLevel,Cs=s.unstable_ImmediatePriority,ga=s.unstable_UserBlockingPriority,Sr=s.unstable_NormalPriority,vc=s.unstable_LowPriority,pa=s.unstable_IdlePriority,Vs=s.log,uu=s.unstable_setDisableYieldValue,ae=null,kt=null;function nn(t){if(typeof Vs=="function"&&uu(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ae,t)}catch{}}var je=Math.clz32?Math.clz32:br,ou=Math.log,Ec=Math.LN2;function br(t){return t>>>=0,t===0?32:31-(ou(t)/Ec|0)|0}var Rr=256,wr=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ya(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(y&=E,y!==0?c=Dn(y):r||(r=E&~t,r!==0&&(c=Dn(r))))):(E=l&~f,E!==0?c=Dn(E):y!==0?c=Dn(y):r||(r=l&~t,r!==0&&(c=Dn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Dr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Is(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var t=Rr;return Rr<<=1,(Rr&4194048)===0&&(Rr=256),t}function Os(){var t=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function si(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ms(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-je(r),F=1<<H;E[H]=0,b[H]=-1;var B=P[H];if(B!==null)for(P[H]=null,H=0;H<B.length;H++){var q=B[H];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&Ln(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Ln(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function xs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-je(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Ui(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _a(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Li(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Hp(t.type))}function cu(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Wt=Math.random().toString(36).slice(2),ve="__reactFiber$"+Wt,fe="__reactProps$"+Wt,dn="__reactContainer$"+Wt,Us="__reactEvents$"+Wt,Tc="__reactListeners$"+Wt,zi="__reactHandles$"+Wt,hu="__reactResources$"+Wt,Cr="__reactMarker$"+Wt;function Pi(t){delete t[ve],delete t[fe],delete t[Us],delete t[Tc],delete t[zi]}function li(t){var n=t[ve];if(n)return n;for(var r=t.parentNode;r;){if(n=r[dn]||r[ve]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Cp(t);t!==null;){if(r=t[ve])return r;t=Cp(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[ve]||t[dn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xe(t){var n=t[hu];return n||(n=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Cr]=!0}var Ls=new Set,va={};function Cn(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(va[t]=n,t=0;t<n.length;t++)Ls.add(n[t])}var fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),du={},Vr={};function mu(t){return Er.call(Vr,t)?!0:Er.call(du,t)?!1:fu.test(t)?Vr[t]=!0:(du[t]=!0,!1)}function Bi(t,n,r){if(mu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Ir,gu;function oi(t){if(Ir===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ir=n&&n[1]||"",gu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+t+gu}var Ea=!1;function Ta(t,n){if(!t||Ea)return"";Ea=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var B=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){B=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){B=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Ea=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?oi(r):""}function zs(t){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return Ta(t.type,!1);case 11:return Ta(t.type.render,!1);case 1:return Ta(t.type,!0);case 31:return oi("Activity");default:return""}}function Aa(t){try{var n="";do n+=zs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ps(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ac(t){var n=Ps(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Sa(t){t._valueTracker||(t._valueTracker=Ac(t))}function Bs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ps(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Nr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sc=/[\n"\\]/g;function de(t){return t.replace(Sc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qi(t,y,Ke(n)):r!=null?qi(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Or(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function qi(t,n,r){n==="number"&&Nr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ci(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Gt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Mr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(re(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||xr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function qs(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&pu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&pu(t,f,n[f])}function ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Rc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function js(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(a(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Bs(l)}break t;case"textarea":Gt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ci(t,!!r.multiple,n,!1)}}}var qn=!1;function yu(t,n,r){if(qn)return t(n,r);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(fi!==null||di!==null)&&(co(),fi&&(n=fi,t=di,di=fi=null,js(n),t)))for(n=0;n<t.length;n++)js(t[n])}}function Ur(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Vn)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{pn=!1}var kn=null,ki=null,mi=null;function Hs(){if(mi)return mi;var t,n=ki,r=n.length,l,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function Gs(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:Gs,this.isPropagationStopped=Gs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var Pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=De(Pt),zr=A({},Pt,{view:0,detail:0}),_u=De(zr),wa,Da,Gn,Pr=A({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(wa=t.screenX-Gn.screenX,Da=t.screenY-Gn.screenY):Da=wa=0,Gn=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),yn=De(Pr),vu=A({},Pr,{dataTransfer:0}),wc=De(vu),Br=A({},zr,{relatedTarget:0}),Ca=De(Br),Qs=A({},Pt,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=De(Qs),Eu=A({},Pt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ia=De(Eu),Dc=A({},Pt,{data:0}),Fs=De(Dc),qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ys(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function kr(){return Ys}var Su=A({},zr,{key:function(t){if(t.key){var n=qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Na=De(Su),bu=A({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=De(bu),gi=A({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),Ru=De(gi),wu=A({},Pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Du=De(wu),Cu=A({},Pr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=De(Cu),Ze=A({},Pt,{newState:0,oldState:0}),Vu=De(Ze),Iu=[9,13,27,32],Qn=Vn&&"CompositionEvent"in window,o=null;Vn&&"documentMode"in document&&(o=document.documentMode);var m=Vn&&"TextEvent"in window&&!o,g=Vn&&(!Qn||o&&8<o&&11>=o),T=" ",L=!1;function k(t,n){switch(t){case"keyup":return Iu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function Ee(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function It(t,n){if(Vt)return t==="compositionend"||!Qn&&k(t,n)?(t=Hs(),mi=ki=kn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function pi(t,n,r,l){fi?di?di.push(l):di=[l]:fi=l,n=yo(n,"onChange"),0<n.length&&(r=new Ra("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Fn=null;function Ks(t){_p(t,0)}function Nu(t){var n=Pn(t);if(Bs(n))return t}function Bd(t,n){if(t==="change")return n}var qd=!1;if(Vn){var Cc;if(Vn){var Vc="oninput"in document;if(!Vc){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),Vc=typeof kd.oninput=="function"}Cc=Vc}else Cc=!1;qd=Cc&&(!document.documentMode||9<document.documentMode)}function jd(){Ue&&(Ue.detachEvent("onpropertychange",Hd),Fn=Ue=null)}function Hd(t){if(t.propertyName==="value"&&Nu(Fn)){var n=[];pi(n,Fn,t,gn(t)),yu(Ks,n)}}function sE(t,n,r){t==="focusin"?(jd(),Ue=n,Fn=r,Ue.attachEvent("onpropertychange",Hd)):t==="focusout"&&jd()}function lE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(Fn)}function uE(t,n){if(t==="click")return Nu(n)}function oE(t,n){if(t==="input"||t==="change")return Nu(n)}function cE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:cE;function Zs(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Er.call(n,c)||!an(t[c],n[c]))return!1}return!0}function Gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qd(t,n){var r=Gd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Gd(r)}}function Fd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Fd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Yd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Nr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Nr(t.document)}return n}function Ic(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var hE=Vn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Nc=null,$s=null,Oc=!1;function Xd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oc||Ma==null||Ma!==Nr(l)||(l=Ma,"selectionStart"in l&&Ic(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$s&&Zs($s,l)||($s=l,l=yo(Nc,"onSelect"),0<l.length&&(n=new Ra("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ma)))}function jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var xa={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Mc={},Kd={};Vn&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Hr(t){if(Mc[t])return Mc[t];if(!xa[t])return t;var n=xa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Kd)return Mc[t]=n[r];return t}var Zd=Hr("animationend"),$d=Hr("animationiteration"),Jd=Hr("animationstart"),fE=Hr("transitionrun"),dE=Hr("transitionstart"),mE=Hr("transitioncancel"),Wd=Hr("transitionend"),tm=new Map,xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xc.push("scrollEnd");function In(t,n){tm.set(t,n),Cn(n,[t])}var em=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=em.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Aa(n)},em.set(t,n),n)}return{value:t,source:n,stack:Aa(n)}}var vn=[],Ua=0,Uc=0;function Ou(){for(var t=Ua,n=Uc=Ua=0;n<t;){var r=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&nm(r,c,f)}}function Mu(t,n,r,l){vn[Ua++]=t,vn[Ua++]=n,vn[Ua++]=r,vn[Ua++]=l,Uc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lc(t,n,r,l){return Mu(t,n,r,l),xu(t)}function La(t,n){return Mu(t,null,null,n),xu(t)}function nm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-je(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function xu(t){if(50<Al)throw Al=0,jh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var za={};function gE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new gE(t,n,r,l)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function im(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")zc(t)&&(y=1);else if(typeof t=="string")y=y0(t,r,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=sn(31,r,n,c),t.elementType=w,t.lanes=f,t;case Z:return Gr(r.children,c,f,n);case rt:y=8,c|=24;break;case J:return t=sn(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case vt:return t=sn(13,r,n,c),t.elementType=vt,t.lanes=f,t;case zt:return t=sn(19,r,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tt:case ct:y=10;break t;case pt:y=9;break t;case qt:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Gr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function Pc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function Bc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Pa=[],Ba=0,Lu=null,zu=0,En=[],Tn=0,Qr=null,_i=1,vi="";function Fr(t,n){Pa[Ba++]=zu,Pa[Ba++]=Lu,Lu=t,zu=n}function rm(t,n,r){En[Tn++]=_i,En[Tn++]=vi,En[Tn++]=Qr,Qr=t;var l=_i;t=vi;var c=32-je(l)-1;l&=~(1<<c),r+=1;var f=32-je(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,_i=1<<32-je(n)+c|r<<c|l,vi=f+t}else _i=1<<f|r<<c|l,vi=t}function qc(t){t.return!==null&&(Fr(t,1),rm(t,1,0))}function kc(t){for(;t===Lu;)Lu=Pa[--Ba],Pa[Ba]=null,zu=Pa[--Ba],Pa[Ba]=null;for(;t===Qr;)Qr=En[--Tn],En[Tn]=null,vi=En[--Tn],En[Tn]=null,_i=En[--Tn],En[Tn]=null}var $e=null,se=null,Lt=!1,Yr=null,Yn=!1,jc=Error(a(519));function Xr(t){var n=Error(a(418,""));throw tl(_n(n,t)),jc}function am(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ve]=t,n[fe]=l,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(r=0;r<bl.length;r++)wt(bl[r],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),Or(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Sa(n);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Mr(n,l.value,l.defaultValue,l.children),Sa(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Ap(n.textContent,r)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=_o),n=!0):n=!1,n||Xr(t)}function sm(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:$e=$e.return}}function Js(t){if(t!==$e)return!1;if(!Lt)return sm(t),Lt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||af(t.type,t.memoizedProps)),r=!r),r&&se&&Xr(t),sm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){se=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,ir(t.type)?(t=of,of=null,se=t):se=n):se=$e?On(t.stateNode.nextSibling):null;return!0}function Ws(){se=$e=null,Lt=!1}function lm(){var t=Yr;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),Yr=null),t}function tl(t){Yr===null?Yr=[t]:Yr.push(t)}var Hc=K(null),Kr=null,Ei=null;function ji(t,n,r){$(Hc,n._currentValue),n._currentValue=r}function Ti(t){t._currentValue=Hc.current,et(Hc)}function Gc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Qc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Gc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Gc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function el(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===we.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}c=c.return}t!==null&&Qc(n,t,r,l),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Kr=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return um(Kr,t)}function Bu(t,n){return Kr===null&&Zr(t),um(t,n)}function um(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ei===null){if(t===null)throw Error(a(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return r}var pE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},yE=s.unstable_scheduleCallback,_E=s.unstable_NormalPriority,Ae={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new pE,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&yE(_E,function(){t.controller.abort()})}var il=null,Yc=0,qa=0,ka=null;function vE(t,n){if(il===null){var r=il=[];Yc=0,qa=Kh(),ka={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Yc++,n.then(om,om),n}function om(){if(--Yc===0&&il!==null){ka!==null&&(ka.status="fulfilled");var t=il;il=null,qa=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function EE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var cm=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&vE(t,n),cm!==null&&cm(t,n)};var $r=K(null);function Xc(){var t=$r.current;return t!==null?t:Zt.pooledCache}function qu(t,n){n===null?$($r,$r.current):$($r,n.pool)}function hm(){var t=Xc();return t===null?null:{parent:Ae._currentValue,pool:t}}var rl=Error(a(460)),fm=Error(a(474)),ku=Error(a(542)),Kc={then:function(){}};function dm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ju(){}function mm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ju,ju),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pm(t),t;default:if(typeof n.status=="string")n.then(ju,ju);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pm(t),t}throw al=n,rl}}var al=null;function gm(){if(al===null)throw Error(a(459));var t=al;return al=null,t}function pm(t){if(t===rl||t===ku)throw Error(a(483))}var Hi=!1;function Zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=xu(t),nm(t,null,r),n}return Mu(t,l,n,r),xu(t)}function sl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,xs(t,r)}}function Jc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Wc=!1;function ll(){if(Wc){var t=ka;if(t!==null)throw t}}function ul(t,n,r,l){Wc=!1;var c=t.updateQueue;Hi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,H=P=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Nt&B)===B:(l&B)===B){B!==0&&B===qa&&(Wc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=t,ht=E;B=n;var Yt=r;switch(ht.tag){case 1:if(mt=ht.payload,typeof mt=="function"){F=mt.call(Yt,F,B);break t}F=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ht.payload,B=typeof mt=="function"?mt.call(Yt,F,B):mt,B==null)break t;F=A({},F,B);break t;case 2:Hi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=q,b=F):H=H.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(b=F),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),Wi|=y,t.lanes=y,t.memoizedState=F}}function ym(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function _m(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ym(r[t],n)}var ja=K(null),Hu=K(0);function vm(t,n){t=Ci,$(Hu,t),$(ja,n),Ci=t|n.baseLanes}function th(){$(Hu,Ci),$(ja,ja.current)}function eh(){Ci=Hu.current,et(ja),et(Hu)}var Fi=0,At=null,Qt=null,me=null,Gu=!1,Ha=!1,Jr=!1,Qu=0,ol=0,Ga=null,TE=0;function oe(){throw Error(a(321))}function nh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function ih(t,n,r,l,c,f){return Fi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?ng:ig,Jr=!1,f=r(l,c),Jr=!1,Ha&&(f=Tm(n,r,l,c)),Em(t),f}function Em(t){j.H=$u;var n=Qt!==null&&Qt.next!==null;if(Fi=0,me=Qt=At=null,Gu=!1,ol=0,Ga=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&Pu(t)&&(Ve=!0))}function Tm(t,n,r,l){At=t;var c=0;do{if(Ha&&(Ga=null),ol=0,Ha=!1,25<=c)throw Error(a(301));if(c+=1,me=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=CE,f=n(r,l)}while(Ha);return f}function AE(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(At.flags|=1024),n}function rh(){var t=Qu!==0;return Qu=0,t}function ah(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function sh(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}Fi=0,me=Qt=At=null,Ha=!1,ol=Qu=0,Ga=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?At.memoizedState=me=t:me=me.next=t,me}function ge(){if(Qt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=me===null?At.memoizedState:me.next;if(n!==null)me=n,Qt=t;else{if(t===null)throw At.alternate===null?Error(a(467)):Error(a(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},me===null?At.memoizedState=me=t:me=me.next=t}return me}function lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var n=ol;return ol+=1,Ga===null&&(Ga=[]),t=mm(Ga,t,n),n=At,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?ng:ig),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===ct)return He(t)}throw Error(a(438,String(t)))}function uh(t){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=lh(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=I;return n.index++,r}function Ai(t,n){return typeof n=="function"?n(t):n}function Yu(t){var n=ge();return oh(n,Qt,t)}function oh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,H=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Nt&F)===F:(Fi&F)===F){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===qa&&(H=!0);else if((Fi&B)===B){P=P.next,B===qa&&(H=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,At.lanes|=B,Wi|=B;F=P.action,Jr&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else B={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,At.lanes|=F,Wi|=F;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!an(f,t.memoizedState)&&(Ve=!0,H&&(r=ka,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ch(t){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Am(t,n,r){var l=At,c=ge(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!an((Qt||c).memoizedState,r);y&&(c.memoizedState=r,Ve=!0),c=c.queue;var E=Rm.bind(null,l,c,t);if(hl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Qa(9,Xu(),bm.bind(null,l,c,r,n),null),Zt===null)throw Error(a(349));f||(Fi&124)!==0||Sm(l,n,r)}return r}function Sm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=lh(),At.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function bm(t,n,r,l){n.value=r,n.getSnapshot=l,wm(n)&&Dm(t)}function Rm(t,n,r){return r(function(){wm(n)&&Dm(t)})}function wm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function Dm(t){var n=La(t,2);n!==null&&hn(n,t,2)}function hh(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),Jr){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n}function Cm(t,n,r,l){return t.baseState=r,oh(t,Qt,typeof l=="function"?l:Ai)}function SE(t,n,r,l,c){if(Zu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Vm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Vm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,y={};j.T=y;try{var E=r(c,l),b=j.S;b!==null&&b(y,E),Im(t,n,E)}catch(P){fh(t,n,P)}finally{j.T=f}}else try{f=r(c,l),Im(t,n,f)}catch(P){fh(t,n,P)}}function Im(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Nm(t,n,l)},function(l){return fh(t,n,l)}):Nm(t,n,r)}function Nm(t,n,r){n.status="fulfilled",n.value=r,Om(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Vm(t,r)))}function fh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Om(n),n=n.next;while(n!==l)}t.action=null}function Om(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mm(t,n){return n}function xm(t,n){if(Lt){var r=Zt.formState;if(r!==null){t:{var l=At;if(Lt){if(se){e:{for(var c=se,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=On(c.nextSibling),l=c.data==="F!";break t}}Xr(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:n},r.queue=l,r=Wm.bind(null,At,l),l.dispatch=r,l=hh(!1),f=yh.bind(null,At,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=SE.bind(null,At,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Um(t){var n=ge();return Lm(n,Qt,t)}function Lm(t,n,r){if(n=oh(t,n,Mm)[0],t=Yu(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=cl(n)}catch(y){throw y===rl?ku:y}else l=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(At.flags|=2048,Qa(9,Xu(),bE.bind(null,c,r),null)),[l,f,t]}function bE(t,n){t.action=n}function zm(t){var n=ge(),r=Qt;if(r!==null)return Lm(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=lh(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Xu(){return{destroy:void 0,resource:void 0}}function Pm(){return ge().memoizedState}function Ku(t,n,r,l){var c=Je();l=l===void 0?null:l,At.flags|=t,c.memoizedState=Qa(1|n,Xu(),r,l)}function hl(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&nh(l,Qt.memoizedState.deps)?c.memoizedState=Qa(n,f,r,l):(At.flags|=t,c.memoizedState=Qa(1|n,f,r,l))}function Bm(t,n){Ku(8390656,8,t,n)}function qm(t,n){hl(2048,8,t,n)}function km(t,n){return hl(4,2,t,n)}function jm(t,n){return hl(4,4,t,n)}function Hm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Gm(t,n,r){r=r!=null?r.concat([t]):null,hl(4,4,Hm.bind(null,n,t),r)}function dh(){}function Qm(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&nh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Fm(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&nh(n,l[1]))return l[0];if(l=t(),Jr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function mh(t,n,r){return r===void 0||(Fi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Kg(),At.lanes|=t,Wi|=t,r)}function Ym(t,n,r,l){return an(r,n)?r:ja.current!==null?(t=mh(t,r,l),an(t,n)||(Ve=!0),t):(Fi&42)===0?(Ve=!0,t.memoizedState=r):(t=Kg(),At.lanes|=t,Wi|=t,n)}function Xm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=j.T,E={};j.T=E,yh(t,!1,n,r);try{var b=c(),P=j.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=EE(b,l);fl(t,n,H,cn(t))}else fl(t,n,l,cn(t))}catch(F){fl(t,n,{then:function(){},status:"rejected",reason:F},cn())}finally{tt.p=f,j.T=y}}function RE(){}function gh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Km(t).queue;Xm(t,c,n,lt,r===null?RE:function(){return Zm(t),r(l)})}function Km(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Zm(t){var n=Km(t).next.queue;fl(t,n,{},cn())}function ph(){return He(Il)}function $m(){return ge().memoizedState}function Jm(){return ge().memoizedState}function wE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Gi(r);var l=Qi(n,t,r);l!==null&&(hn(l,n,r),sl(l,n,r)),n={cache:Fc()},t.payload=n;return}n=n.return}}function DE(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Zu(t)?tg(n,r):(r=Lc(t,n,r,l),r!==null&&(hn(r,t,l),eg(r,n,l)))}function Wm(t,n,r){var l=cn();fl(t,n,r,l)}function fl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))tg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return Mu(t,n,c,0),Zt===null&&Ou(),!1}catch{}finally{}if(r=Lc(t,n,c,l),r!==null)return hn(r,t,l),eg(r,n,l),!0}return!1}function yh(t,n,r,l){if(l={lane:2,revertLane:Kh(),action:l,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(a(479))}else n=Lc(t,r,l,2),n!==null&&hn(n,t,2)}function Zu(t){var n=t.alternate;return t===At||n!==null&&n===At}function tg(t,n){Ha=Gu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function eg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,xs(t,r)}}var $u={readContext:He,use:Fu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},ng={readContext:He,use:Fu,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Bm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ku(4194308,4,Hm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ku(4194308,4,t,n)},useInsertionEffect:function(t,n){Ku(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(Jr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var c=r(n);if(Jr){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=DE.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=hh(t);var n=t.queue,r=Wm.bind(null,At,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:dh,useDeferredValue:function(t,n){var r=Je();return mh(r,t,n)},useTransition:function(){var t=hh(!1);return t=Xm.bind(null,At,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=At,c=Je();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Zt===null)throw Error(a(349));(Nt&124)!==0||Sm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Bm(Rm.bind(null,l,f,t),[t]),l.flags|=2048,Qa(9,Xu(),bm.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=Zt.identifierPrefix;if(Lt){var r=vi,l=_i;r=(l&~(1<<32-je(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Qu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=TE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:ph,useFormState:xm,useActionState:xm,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yh.bind(null,At,!0,r),r.dispatch=n,[t,n]},useMemoCache:uh,useCacheRefresh:function(){return Je().memoizedState=wE.bind(null,At)}},ig={readContext:He,use:Fu,useCallback:Qm,useContext:He,useEffect:qm,useImperativeHandle:Gm,useInsertionEffect:km,useLayoutEffect:jm,useMemo:Fm,useReducer:Yu,useRef:Pm,useState:function(){return Yu(Ai)},useDebugValue:dh,useDeferredValue:function(t,n){var r=ge();return Ym(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Yu(Ai)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Am,useId:$m,useHostTransitionStatus:ph,useFormState:Um,useActionState:Um,useOptimistic:function(t,n){var r=ge();return Cm(r,Qt,t,n)},useMemoCache:uh,useCacheRefresh:Jm},CE={readContext:He,use:Fu,useCallback:Qm,useContext:He,useEffect:qm,useImperativeHandle:Gm,useInsertionEffect:km,useLayoutEffect:jm,useMemo:Fm,useReducer:ch,useRef:Pm,useState:function(){return ch(Ai)},useDebugValue:dh,useDeferredValue:function(t,n){var r=ge();return Qt===null?mh(r,t,n):Ym(r,Qt.memoizedState,t,n)},useTransition:function(){var t=ch(Ai)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Am,useId:$m,useHostTransitionStatus:ph,useFormState:zm,useActionState:zm,useOptimistic:function(t,n){var r=ge();return Qt!==null?Cm(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:uh,useCacheRefresh:Jm},Fa=null,dl=0;function Ju(t){var n=dl;return dl+=1,Fa===null&&(Fa=[]),mm(Fa,t,n)}function ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rg(t){var n=t._init;return n(t._payload)}function ag(t){function n(M,C){if(t){var z=M.deletions;z===null?(M.deletions=[C],M.flags|=16):z.push(C)}}function r(M,C){if(!t)return null;for(;C!==null;)n(M,C),C=C.sibling;return null}function l(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function c(M,C){return M=yi(M,C),M.index=0,M.sibling=null,M}function f(M,C,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<C?(M.flags|=67108866,C):z):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,z,G){return C===null||C.tag!==6?(C=Pc(z,M.mode,G),C.return=M,C):(C=c(C,z),C.return=M,C)}function b(M,C,z,G){var at=z.type;return at===Z?H(M,C,z.props.children,G,z.key):C!==null&&(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&rg(at)===C.type)?(C=c(C,z.props),ml(C,z),C.return=M,C):(C=Uu(z.type,z.key,z.props,null,M.mode,G),ml(C,z),C.return=M,C)}function P(M,C,z,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=Bc(z,M.mode,G),C.return=M,C):(C=c(C,z.children||[]),C.return=M,C)}function H(M,C,z,G,at){return C===null||C.tag!==7?(C=Gr(z,M.mode,G,at),C.return=M,C):(C=c(C,z),C.return=M,C)}function F(M,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Pc(""+C,M.mode,z),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case x:return z=Uu(C.type,C.key,C.props,null,M.mode,z),ml(z,C),z.return=M,z;case Y:return C=Bc(C,M.mode,z),C.return=M,C;case S:var G=C._init;return C=G(C._payload),F(M,C,z)}if(re(C)||U(C))return C=Gr(C,M.mode,z,null),C.return=M,C;if(typeof C.then=="function")return F(M,Ju(C),z);if(C.$$typeof===ct)return F(M,Bu(M,C),z);Wu(M,C)}return null}function B(M,C,z,G){var at=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(M,C,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return z.key===at?b(M,C,z,G):null;case Y:return z.key===at?P(M,C,z,G):null;case S:return at=z._init,z=at(z._payload),B(M,C,z,G)}if(re(z)||U(z))return at!==null?null:H(M,C,z,G,null);if(typeof z.then=="function")return B(M,C,Ju(z),G);if(z.$$typeof===ct)return B(M,C,Bu(M,z),G);Wu(M,z)}return null}function q(M,C,z,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(z)||null,E(C,M,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return M=M.get(G.key===null?z:G.key)||null,b(C,M,G,at);case Y:return M=M.get(G.key===null?z:G.key)||null,P(C,M,G,at);case S:var bt=G._init;return G=bt(G._payload),q(M,C,z,G,at)}if(re(G)||U(G))return M=M.get(z)||null,H(C,M,G,at,null);if(typeof G.then=="function")return q(M,C,z,Ju(G),at);if(G.$$typeof===ct)return q(M,C,z,Bu(C,G),at);Wu(C,G)}return null}function mt(M,C,z,G){for(var at=null,bt=null,st=C,ft=C=0,Ne=null;st!==null&&ft<z.length;ft++){st.index>ft?(Ne=st,st=null):Ne=st.sibling;var xt=B(M,st,z[ft],G);if(xt===null){st===null&&(st=Ne);break}t&&st&&xt.alternate===null&&n(M,st),C=f(xt,C,ft),bt===null?at=xt:bt.sibling=xt,bt=xt,st=Ne}if(ft===z.length)return r(M,st),Lt&&Fr(M,ft),at;if(st===null){for(;ft<z.length;ft++)st=F(M,z[ft],G),st!==null&&(C=f(st,C,ft),bt===null?at=st:bt.sibling=st,bt=st);return Lt&&Fr(M,ft),at}for(st=l(st);ft<z.length;ft++)Ne=q(st,M,ft,z[ft],G),Ne!==null&&(t&&Ne.alternate!==null&&st.delete(Ne.key===null?ft:Ne.key),C=f(Ne,C,ft),bt===null?at=Ne:bt.sibling=Ne,bt=Ne);return t&&st.forEach(function(ur){return n(M,ur)}),Lt&&Fr(M,ft),at}function ht(M,C,z,G){if(z==null)throw Error(a(151));for(var at=null,bt=null,st=C,ft=C=0,Ne=null,xt=z.next();st!==null&&!xt.done;ft++,xt=z.next()){st.index>ft?(Ne=st,st=null):Ne=st.sibling;var ur=B(M,st,xt.value,G);if(ur===null){st===null&&(st=Ne);break}t&&st&&ur.alternate===null&&n(M,st),C=f(ur,C,ft),bt===null?at=ur:bt.sibling=ur,bt=ur,st=Ne}if(xt.done)return r(M,st),Lt&&Fr(M,ft),at;if(st===null){for(;!xt.done;ft++,xt=z.next())xt=F(M,xt.value,G),xt!==null&&(C=f(xt,C,ft),bt===null?at=xt:bt.sibling=xt,bt=xt);return Lt&&Fr(M,ft),at}for(st=l(st);!xt.done;ft++,xt=z.next())xt=q(st,M,ft,xt.value,G),xt!==null&&(t&&xt.alternate!==null&&st.delete(xt.key===null?ft:xt.key),C=f(xt,C,ft),bt===null?at=xt:bt.sibling=xt,bt=xt);return t&&st.forEach(function(V0){return n(M,V0)}),Lt&&Fr(M,ft),at}function Yt(M,C,z,G){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case x:t:{for(var at=z.key;C!==null;){if(C.key===at){if(at=z.type,at===Z){if(C.tag===7){r(M,C.sibling),G=c(C,z.props.children),G.return=M,M=G;break t}}else if(C.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&rg(at)===C.type){r(M,C.sibling),G=c(C,z.props),ml(G,z),G.return=M,M=G;break t}r(M,C);break}else n(M,C);C=C.sibling}z.type===Z?(G=Gr(z.props.children,M.mode,G,z.key),G.return=M,M=G):(G=Uu(z.type,z.key,z.props,null,M.mode,G),ml(G,z),G.return=M,M=G)}return y(M);case Y:t:{for(at=z.key;C!==null;){if(C.key===at)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){r(M,C.sibling),G=c(C,z.children||[]),G.return=M,M=G;break t}else{r(M,C);break}else n(M,C);C=C.sibling}G=Bc(z,M.mode,G),G.return=M,M=G}return y(M);case S:return at=z._init,z=at(z._payload),Yt(M,C,z,G)}if(re(z))return mt(M,C,z,G);if(U(z)){if(at=U(z),typeof at!="function")throw Error(a(150));return z=at.call(z),ht(M,C,z,G)}if(typeof z.then=="function")return Yt(M,C,Ju(z),G);if(z.$$typeof===ct)return Yt(M,C,Bu(M,z),G);Wu(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,C!==null&&C.tag===6?(r(M,C.sibling),G=c(C,z),G.return=M,M=G):(r(M,C),G=Pc(z,M.mode,G),G.return=M,M=G),y(M)):r(M,C)}return function(M,C,z,G){try{dl=0;var at=Yt(M,C,z,G);return Fa=null,at}catch(st){if(st===rl||st===ku)throw st;var bt=sn(29,st,null,M.mode);return bt.lanes=G,bt.return=M,bt}finally{}}}var Ya=ag(!0),sg=ag(!1),An=K(null),Xn=null;function Yi(t){var n=t.alternate;$(Se,Se.current&1),$(An,t),Xn===null&&(n===null||ja.current!==null||n.memoizedState!==null)&&(Xn=t)}function lg(t){if(t.tag===22){if($(Se,Se.current),$(An,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else Xi()}function Xi(){$(Se,Se.current),$(An,An.current)}function Si(t){et(An),Xn===t&&(Xn=null),et(Se)}var Se=K(0);function to(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||uf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function _h(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Gi(l);c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(hn(n,t,l),sl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Gi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(hn(n,t,l),sl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Gi(r);l.tag=2,n!=null&&(l.callback=n),n=Qi(t,l,r),n!==null&&(hn(n,t,r),sl(n,t,r))}};function ug(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Zs(r,l)||!Zs(c,f):!0}function og(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&vh.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var eo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function cg(t){eo(t)}function hg(t){console.error(t)}function fg(t){eo(t)}function no(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function dg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Eh(t,n,r){return r=Gi(r),r.tag=3,r.payload={element:null},r.callback=function(){no(t,n)},r}function mg(t){return t=Gi(t),t.tag=3,t}function gg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){dg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){dg(n,r,l),typeof c!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function VE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&el(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Xn===null?Gh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Kc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Fh(t,l,c)),!1;case 22:return r.flags|=65536,l===Kc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Fh(t,l,c)),!1}throw Error(a(435,r.tag))}return Fh(t,l,c),Gh(),!1}if(Lt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==jc&&(t=Error(a(422),{cause:l}),tl(_n(t,r)))):(l!==jc&&(n=Error(a(423),{cause:l}),tl(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=Eh(t.stateNode,l,c),Jc(t,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=_n(f,r),Tl===null?Tl=[f]:Tl.push(f),le!==4&&(le=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Eh(r.stateNode,l,t),Jc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tr===null||!tr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=mg(c),gg(c,t,r,l),Jc(r,c),!1}r=r.return}while(r!==null);return!1}var pg=Error(a(461)),Ve=!1;function Le(t,n,r,l){n.child=t===null?sg(n,null,r,l):Ya(n,t.child,r,l)}function yg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Zr(n),l=ih(t,n,r,y,f,c),E=rh(),t!==null&&!Ve?(ah(t,n,c),bi(t,n,c)):(Lt&&E&&qc(n),n.flags|=1,Le(t,n,l,c),n.child)}function _g(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!zc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,vg(t,n,f,l,c)):(t=Uu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ch(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zs,r(y,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function vg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Zs(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Ch(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,bi(t,n,c)}return Th(t,n,r,l,c)}function Eg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Tg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(n,f!==null?f.cachePool:null),f!==null?vm(n,f):th(),lg(n);else return n.lanes=n.childLanes=536870912,Tg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(qu(n,f.cachePool),vm(n,f),Xi(),n.memoizedState=null):(t!==null&&qu(n,null),th(),Xi());return Le(t,n,c,r),n.child}function Tg(t,n,r,l){var c=Xc();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&qu(n,null),th(),lg(n),t!==null&&el(t,n,l,!0),null}function io(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Th(t,n,r,l,c){return Zr(n),r=ih(t,n,r,l,void 0,c),l=rh(),t!==null&&!Ve?(ah(t,n,c),bi(t,n,c)):(Lt&&l&&qc(n),n.flags|=1,Le(t,n,r,c),n.child)}function Ag(t,n,r,l,c,f){return Zr(n),n.updateQueue=null,r=Tm(n,l,r,c),Em(t),l=rh(),t!==null&&!Ve?(ah(t,n,f),bi(t,n,f)):(Lt&&l&&qc(n),n.flags|=1,Le(t,n,r,f),n.child)}function Sg(t,n,r,l,c){if(Zr(n),n.stateNode===null){var f=za,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Zc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):za,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(_h(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&vh.enqueueReplaceState(f,f.state,null),ul(n,l,f,c),ll(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=Wr(r,E);f.props=b;var P=f.context,H=r.contextType;y=za,typeof H=="object"&&H!==null&&(y=He(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&og(n,f,l,y),Hi=!1;var B=n.memoizedState;f.state=B,ul(n,l,f,c),ll(),P=n.memoizedState,E||B!==P||Hi?(typeof F=="function"&&(_h(n,r,F,l),P=n.memoizedState),(b=Hi||ug(n,r,b,l,B,P,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,$c(t,n),y=n.memoizedProps,H=Wr(r,y),f.props=H,F=n.pendingProps,B=f.context,P=r.contextType,b=za,typeof P=="object"&&P!==null&&(b=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==b)&&og(n,f,l,b),Hi=!1,B=n.memoizedState,f.state=B,ul(n,l,f,c),ll();var q=n.memoizedState;y!==F||B!==q||Hi||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof E=="function"&&(_h(n,r,E,l),q=n.memoizedState),(H=Hi||ug(n,r,H,l,B,q,b)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,io(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ya(n,t.child,null,c),n.child=Ya(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=bi(t,n,c),t}function bg(t,n,r,l){return Ws(),n.flags|=256,Le(t,n,r,l),n.child}var Ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sh(t){return{baseLanes:t,cachePool:hm()}}function bh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function Rg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(c?Yi(n):Xi(),Lt){var E=se,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=On(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Qr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,$e=n,se=null,b=!0):b=!1}b||Xr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return uf(E)?n.lanes=32:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(Xi(),c=n.mode,E=ro({mode:"hidden",children:E},c),l=Gr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Sh(r),c.childLanes=bh(t,y,r),n.memoizedState=Ah,l):(Yi(n),Rh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Yi(n),n.flags&=-257,n=wh(t,n,r)):n.memoizedState!==null?(Xi(),n.child=t.child,n.flags|=128,n=null):(Xi(),c=l.fallback,E=n.mode,l=ro({mode:"visible",children:l.children},E),c=Gr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ya(n,t.child,null,r),l=n.child,l.memoizedState=Sh(r),l.childLanes=bh(t,y,r),n.memoizedState=Ah,n=c);else if(Yi(n),uf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,tl({value:l,source:null,stack:null}),n=wh(t,n,r)}else if(Ve||el(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Zt,y!==null&&(l=r&-r,l=(l&42)!==0?1:Ui(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,La(t,l),hn(y,t,l),pg;E.data==="$?"||Gh(),n=wh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,se=On(E.nextSibling),$e=n,Lt=!0,Yr=null,Yn=!1,t!==null&&(En[Tn++]=_i,En[Tn++]=vi,En[Tn++]=Qr,_i=t.id,vi=t.overflow,Qr=n),n=Rh(n,l.children),n.flags|=4096);return n}return c?(Xi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=yi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=yi(P,c):(c=Gr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Sh(r):(b=E.cachePool,b!==null?(P=Ae._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=hm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=bh(t,y,r),n.memoizedState=Ah,l):(Yi(n),r=t.child,t=r.sibling,r=yi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Rh(t,n){return n=ro({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ro(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function wh(t,n,r){return Ya(n,t.child,null,r),t=Rh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Gc(t.return,n,r)}function Dh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Dg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,r,n);else if(t.tag===19)wg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Se,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&to(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Dh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&to(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Dh(n,!0,r,null,f);break;case"together":Dh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Wi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(el(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=yi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=yi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ch(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function IE(t,n,r){switch(n.tag){case 3:Kt(n,n.stateNode.containerInfo),ji(n,Ae,t.memoizedState.cache),Ws();break;case 27:case 5:xi(n);break;case 4:Kt(n,n.stateNode.containerInfo);break;case 10:ji(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Rg(t,n,r):(Yi(n),t=bi(t,n,r),t!==null?t.sibling:null);Yi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(el(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Dg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,Eg(t,n,r);case 24:ji(n,Ae,t.memoizedState.cache)}return bi(t,n,r)}function Cg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Ch(t,r)&&(n.flags&128)===0)return Ve=!1,IE(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,Lt&&(n.flags&1048576)!==0&&rm(n,zu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")zc(l)?(t=Wr(l,t),n.tag=1,n=Sg(null,n,l,t,r)):(n.tag=0,n=Th(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===qt){n.tag=11,n=yg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=_g(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(a(306,n,""))}}return n;case 0:return Th(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Wr(l,n.pendingProps),Sg(t,n,l,c,r);case 3:t:{if(Kt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,$c(t,n),ul(n,l,null,r);var y=n.memoizedState;if(l=y.cache,ji(n,Ae,l),l!==f.cache&&Qc(n,[Ae],r,!0),ll(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=bg(t,n,l,r);break t}else if(l!==c){c=_n(Error(a(424)),n),tl(c),n=bg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=On(t.firstChild),$e=n,Lt=!0,Yr=null,Yn=!0,r=sg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ws(),l===c){n=bi(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return io(t,n),t===null?(r=Op(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,t=n.pendingProps,l=vo(gt.current).createElement(r),l[ve]=n,l[fe]=t,Pe(l,r,t),ue(l),n.stateNode=l):n.memoizedState=Op(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xi(n),t===null&&Lt&&(l=n.stateNode=Vp(n.type,n.pendingProps,gt.current),$e=n,Yn=!0,c=se,ir(n.type)?(of=c,se=On(l.firstChild)):se=c),Le(t,n,n.pendingProps.children,r),io(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Lt&&((c=l=se)&&(l=r0(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,$e=n,se=On(l.firstChild),Yn=!1,c=!0):c=!1),c||Xr(n)),xi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,af(c,f)?l=null:y!==null&&af(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=ih(t,n,AE,null,null,r),Il._currentValue=c),io(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&Lt&&((t=r=se)&&(r=a0(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,$e=n,se=null,t=!0):t=!1),t||Xr(n)),null;case 13:return Rg(t,n,r);case 4:return Kt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ya(n,null,l,r):Le(t,n,l,r),n.child;case 11:return yg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ji(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Zr(n),c=He(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return _g(t,n,n.type,n.pendingProps,r);case 15:return vg(t,n,n.type,n.pendingProps,r);case 19:return Dg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=ro(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=yi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Eg(t,n,r);case 24:return Zr(n),l=He(Ae),t===null?(c=Xc(),c===null&&(c=Zt,f=Fc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Zc(n),ji(n,Ae,c)):((t.lanes&r)!==0&&($c(t,n),ul(n,null,null,r),ll()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ji(n,Ae,l)):(l=f.cache,ji(n,Ae,l),l!==c.cache&&Qc(n,[Ae],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ri(t){t.flags|=4}function Vg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zp(n)){if(n=An.current,n!==null&&((Nt&4194048)===Nt?Xn!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||n!==Xn))throw al=Kc,fm;t.flags|=8192}}function ao(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Os():536870912,t.lanes|=n,$a|=n)}function gl(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function NE(t,n,r){var l=n.pendingProps;switch(kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(Ae),Un(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Js(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lm())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Ri(n),r!==null?(ee(n),Vg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ri(n),ee(n),Vg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),ee(n),n.flags&=-16777217),null;case 27:ri(n),r=gt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}t=ot.current,Js(n)?am(n):(t=Vp(c,l,r),n.stateNode=t,Ri(n))}return ee(n),null;case 5:if(ri(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(t=ot.current,Js(n))am(n);else{switch(c=vo(gt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ve]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=gt.current,Js(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Ap(t.nodeValue,r)),t||Xr(n)}else t=vo(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Js(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ve]=n}else Ws(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=lm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),ao(n,n.updateQueue),ee(n),null;case 4:return Un(),t===null&&Wh(n.stateNode.containerInfo),ee(n),null;case 10:return Ti(n.type),ee(n),null;case 19:if(et(Se),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)gl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=to(t),f!==null){for(n.flags|=128,gl(c,!1),t=f.updateQueue,n.updateQueue=t,ao(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)im(r,t),r=r.sibling;return $(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>uo&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304)}else{if(!l)if(t=to(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ao(n,t),gl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Lt)return ee(n),null}else 2*fn()-c.renderingStartTime>uo&&r!==536870912&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Se.current,$(Se,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Si(n),eh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&ao(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et($r),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ti(Ae),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function OE(t,n){switch(kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(Ae),Un(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ws()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Se),null;case 4:return Un(),null;case 10:return Ti(n.type),null;case 22:case 23:return Si(n),eh(),t!==null&&et($r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(Ae),null;case 25:return null;default:return null}}function Ig(t,n){switch(kc(n),n.tag){case 3:Ti(Ae),Un();break;case 26:case 27:case 5:ri(n);break;case 4:Un();break;case 13:Si(n);break;case 19:et(Se);break;case 10:Ti(n.type);break;case 22:case 23:Si(n),eh(),t!==null&&et($r);break;case 24:Ti(Ae)}}function pl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Ki(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(H){Xt(c,b,H)}}}l=l.next}while(l!==f)}}catch(H){Xt(n,n.return,H)}}function Ng(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{_m(n,r)}catch(l){Xt(t,t.return,l)}}}function Og(t,n,r){r.props=Wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function yl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Kn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Mg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Vh(t,n,r){try{var l=t.stateNode;WE(l,t.type,r,n),l[fe]=n}catch(c){Xt(t,t.return,c)}}function xg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ir(t.type)||t.tag===4}function Ih(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=_o));else if(l!==4&&(l===27&&ir(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Nh(t,n,r),t=t.sibling;t!==null;)Nh(t,n,r),t=t.sibling}function so(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ir(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(so(t,n,r),t=t.sibling;t!==null;)so(t,n,r),t=t.sibling}function Ug(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[ve]=t,n[fe]=r}catch(f){Xt(t,t.return,f)}}var wi=!1,ce=!1,Oh=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function ME(t,n){if(t=t.containerInfo,nf=Ro,t=Yd(t),Ic(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,H=0,F=t,B=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)B=F,F=q;for(;;){if(F===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++H===l&&(b=y),(q=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(rf={focusedElem:t,selectionRange:r},Ro=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var mt=Wr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Xt(r,r.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)lf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function zg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Zi(t,r),l&4&&pl(5,r);break;case 1:if(Zi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&Ng(r),l&512&&yl(r,r.return);break;case 3:if(Zi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{_m(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&Ug(r);case 26:case 5:Zi(t,r),n===null&&l&4&&Mg(r),l&512&&yl(r,r.return);break;case 12:Zi(t,r);break;case 13:Zi(t,r),l&4&&qg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=jE.bind(null,r),s0(t,r))));break;case 22:if(l=r.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||ce,c=wi;var f=ce;wi=l,(ce=n)&&!f?$i(t,r,(r.subtreeFlags&8772)!==0):Zi(t,r),wi=c,ce=f}break;case 30:break;default:Zi(t,r)}}function Pg(t){var n=t.alternate;n!==null&&(t.alternate=null,Pg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,We=!1;function Di(t,n,r){for(r=r.child;r!==null;)Bg(t,n,r),r=r.sibling}function Bg(t,n,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:ce||Kn(r,n),Di(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Kn(r,n);var l=te,c=We;ir(r.type)&&(te=r.stateNode,We=!1),Di(t,n,r),wl(r.stateNode),te=l,We=c;break;case 5:ce||Kn(r,n);case 6:if(l=te,c=We,te=null,Di(t,n,r),te=l,We=c,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:te!==null&&(We?(t=te,Dp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),xl(t)):Dp(te,r.stateNode));break;case 4:l=te,c=We,te=r.stateNode.containerInfo,We=!0,Di(t,n,r),te=l,We=c;break;case 0:case 11:case 14:case 15:ce||Ki(2,r,n),ce||Ki(4,r,n),Di(t,n,r);break;case 1:ce||(Kn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Og(r,n,l)),Di(t,n,r);break;case 21:Di(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Di(t,n,r),ce=l;break;default:Di(t,n,r)}}function qg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(r){Xt(n,n.return,r)}}function xE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Lg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Lg),n;default:throw Error(a(435,t.tag))}}function Mh(t,n){var r=xE(t);n.forEach(function(l){var c=HE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ir(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(a(160));Bg(f,y,c),te=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)kg(n,t),n=n.sibling}var Nn=null;function kg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),l&4&&(Ki(3,t,t.return),pl(3,t),Ki(5,t,t.return));break;case 1:ln(n,t),un(t),l&512&&(ce||r===null||Kn(r,r.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Nn;if(ln(n,t),un(t),l&512&&(ce||r===null||Kn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Cr]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[ve]=t,ue(f),l=f;break t;case"link":var y=Up("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Up("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ve]=t,ue(f),l=f}t.stateNode=l}else Lp(c,t.type,t.stateNode);else t.stateNode=xp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Lp(c,t.type,t.stateNode):xp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),un(t),l&512&&(ce||r===null||Kn(r,r.return)),r!==null&&l&4&&Vh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),un(t),l&512&&(ce||r===null||Kn(r,r.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(q){Xt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Vh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Oh=!0);break;case 6:if(ln(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Xt(t,t.return,q)}}break;case 3:if(Ao=null,c=Nn,Nn=Eo(n.containerInfo),ln(n,t),Nn=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{xl(n.containerInfo)}catch(q){Xt(t,t.return,q)}Oh&&(Oh=!1,jg(t));break;case 4:l=Nn,Nn=Eo(t.stateNode.containerInfo),ln(n,t),un(t),Nn=l;break;case 12:ln(n,t),un(t);break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Bh=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=wi,H=ce;if(wi=P||c,ce=H||b,ln(n,t),ce=H,wi=P,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||wi||ce||ta(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Xt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Xt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Mh(t,r))));break;case 19:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(xg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Ih(t);so(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(mn(y,""),r.flags&=-33);var E=Ih(t);so(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=Ih(t);Nh(t,P,b);break;default:throw Error(a(161))}}catch(H){Xt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zg(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ki(4,n,n.return),ta(n);break;case 1:Kn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Og(n,n.return,r),ta(n);break;case 27:wl(n.stateNode);case 26:case 5:Kn(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}t=t.sibling}}function $i(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:$i(c,f,r),pl(4,f);break;case 1:if($i(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)ym(b[c],E)}catch(P){Xt(l,l.return,P)}}r&&y&64&&Ng(f),yl(f,f.return);break;case 27:Ug(f);case 26:case 5:$i(c,f,r),r&&l===null&&y&4&&Mg(f),yl(f,f.return);break;case 12:$i(c,f,r);break;case 13:$i(c,f,r),r&&y&4&&qg(c,f);break;case 22:f.memoizedState===null&&$i(c,f,r),yl(f,f.return);break;case 30:break;default:$i(c,f,r)}n=n.sibling}}function xh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&nl(r))}function Uh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function Zn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hg(t,n,r,l),n=n.sibling}function Hg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,r,l),c&2048&&pl(9,n);break;case 1:Zn(t,n,r,l);break;case 3:Zn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(c&2048){Zn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Zn(t,n,r,l);break;case 13:Zn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,r,l):_l(t,n):f._visibility&2?Zn(t,n,r,l):(f._visibility|=2,Xa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&xh(y,n);break;case 24:Zn(t,n,r,l),c&2048&&Uh(n.alternate,n);break;default:Zn(t,n,r,l)}}function Xa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Xa(f,y,E,b,c),pl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Xa(f,y,E,b,c):_l(f,y):(H._visibility|=2,Xa(f,y,E,b,c)),c&&P&2048&&xh(y.alternate,y);break;case 24:Xa(f,y,E,b,c),c&&P&2048&&Uh(y.alternate,y);break;default:Xa(f,y,E,b,c)}n=n.sibling}}function _l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:_l(r,l),c&2048&&xh(l.alternate,l);break;case 24:_l(r,l),c&2048&&Uh(l.alternate,l);break;default:_l(r,l)}n=n.sibling}}var vl=8192;function Ka(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)Gg(t),t=t.sibling}function Gg(t){switch(t.tag){case 26:Ka(t),t.flags&vl&&t.memoizedState!==null&&v0(Nn,t.memoizedState,t.memoizedProps);break;case 5:Ka(t);break;case 3:case 4:var n=Nn;Nn=Eo(t.stateNode.containerInfo),Ka(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=vl,vl=16777216,Ka(t),vl=n):Ka(t));break;default:Ka(t)}}function Qg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function El(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Yg(l,t)}Qg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fg(t),t=t.sibling}function Fg(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lo(t)):El(t);break;default:El(t)}}function lo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Yg(l,t)}Qg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ki(8,n,n.return),lo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,lo(n));break;default:lo(n)}t=t.sibling}}function Yg(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:Ki(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Pg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var UE={getCacheForType:function(t){var n=He(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},LE=typeof WeakMap=="function"?WeakMap:Map,jt=0,Zt=null,Rt=null,Nt=0,Ht=0,on=null,Ji=!1,Za=!1,Lh=!1,Ci=0,le=0,Wi=0,ea=0,zh=0,Sn=0,$a=0,Tl=null,tn=null,Ph=!1,Bh=0,uo=1/0,oo=null,tr=null,ze=0,er=null,Ja=null,Wa=0,qh=0,kh=null,Xg=null,Al=0,jh=null;function cn(){if((jt&2)!==0&&Nt!==0)return Nt&-Nt;if(j.T!==null){var t=qa;return t!==0?t:Kh()}return Li()}function Kg(){Sn===0&&(Sn=(Nt&536870912)===0||Lt?Ns():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function hn(t,n,r){(t===Zt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(ts(t,0),nr(t,Nt,Sn,!1)),si(t,r),((jt&2)===0||t!==Zt)&&(t===Zt&&((jt&2)===0&&(ea|=r),le===4&&nr(t,Nt,Sn,!1)),$n(t))}function Zg(t,n,r){if((jt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Dr(t,n),c=l?BE(t,n):Qh(t,n,!0),f=l;do{if(c===0){Za&&!l&&nr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!zE(r)){c=Qh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Tl;var b=E.current.memoizedState.isDehydrated;if(b&&(ts(E,y).flags|=256),y=Qh(E,y,!1),y!==2){if(Lh&&!b){E.errorRecoveryDisabledLanes|=f,ea|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ts(t,0),nr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:nr(l,n,Sn,!Ji);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Bh+300-fn(),10<c)){if(nr(l,n,Sn,!Ji),ya(l,0,!0)!==0)break t;l.timeoutHandle=Rp($g.bind(null,l,r,tn,oo,Ph,n,Sn,ea,$a,Ji,f,2,-0,0),c);break t}$g(l,r,tn,oo,Ph,n,Sn,ea,$a,Ji,f,0,-0,0)}}break}while(!0);$n(t)}function $g(t,n,r,l,c,f,y,E,b,P,H,F,B,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:_0},Gg(n),F=E0(),F!==null)){t.cancelPendingCommit=F(rp.bind(null,t,n,f,r,l,c,y,E,b,H,1,B,q)),nr(t,f,y,!P);return}rp(t,n,f,r,l,c,y,E,b)}function zE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(t,n,r,l){n&=~zh,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-je(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Ln(t,r,n)}function co(){return(jt&6)===0?(Sl(0),!1):!0}function Hh(){if(Rt!==null){if(Ht===0)var t=Rt.return;else t=Rt,Ei=Kr=null,sh(t),Fa=null,dl=0,t=Rt;for(;t!==null;)Ig(t.alternate,t),t=t.return;Rt=null}}function ts(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,e0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Hh(),Zt=t,Rt=r=yi(t.current,null),Nt=n,Ht=0,on=null,Ji=!1,Za=Dr(t,n),Lh=!1,$a=Sn=zh=ea=Wi=le=0,tn=Tl=null,Ph=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,Ou(),r}function Jg(t,n){At=null,j.H=$u,n===rl||n===ku?(n=gm(),Ht=3):n===fm?(n=gm(),Ht=4):Ht=n===pg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Rt===null&&(le=1,no(t,_n(n,t.current)))}function Wg(){var t=j.H;return j.H=$u,t===null?$u:t}function tp(){var t=j.A;return j.A=UE,t}function Gh(){le=4,Ji||(Nt&4194048)!==Nt&&An.current!==null||(Za=!0),(Wi&134217727)===0&&(ea&134217727)===0||Zt===null||nr(Zt,Nt,Sn,!1)}function Qh(t,n,r){var l=jt;jt|=2;var c=Wg(),f=tp();(Zt!==t||Nt!==n)&&(oo=null,ts(t,n)),n=!1;var y=le;t:do try{if(Ht!==0&&Rt!==null){var E=Rt,b=on;switch(Ht){case 8:Hh(),y=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var P=Ht;if(Ht=0,on=null,es(t,E,b,P),r&&Za){y=0;break t}break;default:P=Ht,Ht=0,on=null,es(t,E,b,P)}}PE(),y=le;break}catch(H){Jg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ei=Kr=null,jt=l,j.H=c,j.A=f,Rt===null&&(Zt=null,Nt=0,Ou()),y}function PE(){for(;Rt!==null;)ep(Rt)}function BE(t,n){var r=jt;jt|=2;var l=Wg(),c=tp();Zt!==t||Nt!==n?(oo=null,uo=fn()+500,ts(t,n)):Za=Dr(t,n);t:do try{if(Ht!==0&&Rt!==null){n=Rt;var f=on;e:switch(Ht){case 1:Ht=0,on=null,es(t,n,f,1);break;case 2:case 9:if(dm(f)){Ht=0,on=null,np(n);break}n=function(){Ht!==2&&Ht!==9||Zt!==t||(Ht=7),$n(t)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:dm(f)?(Ht=0,on=null,np(n)):(Ht=0,on=null,es(t,n,f,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||zp(y)){Ht=0,on=null;var b=E.sibling;if(b!==null)Rt=b;else{var P=E.return;P!==null?(Rt=P,ho(P)):Rt=null}break e}}Ht=0,on=null,es(t,n,f,5);break;case 6:Ht=0,on=null,es(t,n,f,6);break;case 8:Hh(),le=6;break t;default:throw Error(a(462))}}qE();break}catch(H){Jg(t,H)}while(!0);return Ei=Kr=null,j.H=l,j.A=c,jt=r,Rt!==null?0:(Zt=null,Nt=0,Ou(),le)}function qE(){for(;Rt!==null&&!Ds();)ep(Rt)}function ep(t){var n=Cg(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?ho(t):Rt=n}function np(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Ag(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Ag(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:sh(n);default:Ig(r,n),n=Rt=im(n,Ci),n=Cg(r,n,Ci)}t.memoizedProps=t.pendingProps,n===null?ho(t):Rt=n}function es(t,n,r,l){Ei=Kr=null,sh(n),Fa=null,dl=0;var c=n.return;try{if(VE(t,c,n,r,Nt)){le=1,no(t,_n(r,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;le=1,no(t,_n(r,t.current)),Rt=null;return}n.flags&32768?(Lt||l===1?t=!0:Za||(Nt&536870912)!==0?t=!1:(Ji=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),ip(n,t)):ho(n)}function ho(t){var n=t;do{if((n.flags&32768)!==0){ip(n,Ji);return}t=n.return;var r=NE(n.alternate,n,Ci);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);le===0&&(le=5)}function ip(t,n){do{var r=OE(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);le=6,Rt=null}function rp(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do fo();while(ze!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Uc,Ms(t,r,f,y,E,b),t===Zt&&(Rt=Zt=null,Nt=0),Ja=n,er=t,Wa=r,qh=f,kh=c,Xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,GE(Sr,function(){return op(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=tt.p,tt.p=2,y=jt,jt|=4;try{ME(t,n,r)}finally{jt=y,tt.p=c,j.T=l}}ze=1,ap(),sp(),lp()}}function ap(){if(ze===1){ze=0;var t=er,n=Ja,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=tt.p;tt.p=2;var c=jt;jt|=4;try{kg(n,t);var f=rf,y=Yd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Fd(E.ownerDocument.documentElement,E)){if(b!==null&&Ic(E)){var P=b.start,H=b.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var q=B.getSelection(),mt=E.textContent.length,ht=Math.min(b.start,mt),Yt=b.end===void 0?ht:Math.min(b.end,mt);!q.extend&&ht>Yt&&(y=Yt,Yt=ht,ht=y);var M=Qd(E,ht),C=Qd(E,Yt);if(M&&C&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==C.node||q.focusOffset!==C.offset)){var z=F.createRange();z.setStart(M.node,M.offset),q.removeAllRanges(),ht>Yt?(q.addRange(z),q.extend(C.node,C.offset)):(z.setEnd(C.node,C.offset),q.addRange(z))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Ro=!!nf,rf=nf=null}finally{jt=c,tt.p=l,j.T=r}}t.current=n,ze=2}}function sp(){if(ze===2){ze=0;var t=er,n=Ja,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=tt.p;tt.p=2;var c=jt;jt|=4;try{zg(t,n.alternate,n)}finally{jt=c,tt.p=l,j.T=r}}ze=3}}function lp(){if(ze===4||ze===3){ze=0,lu();var t=er,n=Ja,r=Wa,l=Xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Ja=er=null,up(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(tr=null),_a(r),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=tt.p,tt.p=2,j.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=c}}(Wa&3)!==0&&fo(),$n(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===jh?Al++:(Al=0,jh=t):Al=0,Sl(0)}}function up(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function fo(t){return ap(),sp(),lp(),op()}function op(){if(ze!==5)return!1;var t=er,n=qh;qh=0;var r=_a(Wa),l=j.T,c=tt.p;try{tt.p=32>r?32:r,j.T=null,r=kh,kh=null;var f=er,y=Wa;if(ze=0,Ja=er=null,Wa=0,(jt&6)!==0)throw Error(a(331));var E=jt;if(jt|=4,Fg(f.current),Hg(f,f.current,y,r),jt=E,Sl(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{tt.p=c,j.T=l,up(t,n)}}function cp(t,n,r){n=_n(r,n),n=Eh(t.stateNode,n,2),t=Qi(t,n,2),t!==null&&(si(t,2),$n(t))}function Xt(t,n,r){if(t.tag===3)cp(t,t,r);else for(;n!==null;){if(n.tag===3){cp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){t=_n(r,t),r=mg(2),l=Qi(n,r,2),l!==null&&(gg(r,l,n,t),si(l,2),$n(l));break}}n=n.return}}function Fh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new LE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Lh=!0,c.add(r),t=kE.bind(null,t,n,r),n.then(t,t))}function kE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Zt===t&&(Nt&r)===r&&(le===4||le===3&&(Nt&62914560)===Nt&&300>fn()-Bh?(jt&2)===0&&ts(t,0):zh|=r,$a===Nt&&($a=0)),$n(t)}function hp(t,n){n===0&&(n=Os()),t=La(t,n),t!==null&&(si(t,n),$n(t))}function jE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),hp(t,r)}function HE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),hp(t,r)}function GE(t,n){return Tr(t,n)}var mo=null,ns=null,Yh=!1,go=!1,Xh=!1,na=0;function $n(t){t!==ns&&t.next===null&&(ns===null?mo=ns=t:ns=ns.next=t),go=!0,Yh||(Yh=!0,FE())}function Sl(t,n){if(!Xh&&go){Xh=!0;do for(var r=!1,l=mo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,gp(l,f))}else f=Nt,f=ya(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Dr(l,f)||(r=!0,gp(l,f));l=l.next}while(r);Xh=!1}}function QE(){fp()}function fp(){go=Yh=!1;var t=0;na!==0&&(t0()&&(t=na),na=0);for(var n=fn(),r=null,l=mo;l!==null;){var c=l.next,f=dp(l,n);f===0?(l.next=null,r===null?mo=c:r.next=c,c===null&&(ns=r)):(r=l,(t!==0||(f&3)!==0)&&(go=!0)),l=c}Sl(t)}function dp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-je(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Is(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,r=Nt,r=ya(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ar(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Dr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ar(l),_a(r)){case 2:case 8:r=ga;break;case 32:r=Sr;break;case 268435456:r=pa;break;default:r=Sr}return l=mp.bind(null,t),r=Tr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ar(l),t.callbackPriority=2,t.callbackNode=null,2}function mp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(fo()&&t.callbackNode!==r)return null;var l=Nt;return l=ya(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Zg(t,l,n),dp(t,fn()),t.callbackNode!=null&&t.callbackNode===r?mp.bind(null,t):null)}function gp(t,n){if(fo())return null;Zg(t,n,!0)}function FE(){n0(function(){(jt&6)!==0?Tr(Cs,QE):fp()})}function Kh(){return na===0&&(na=Ns()),na}function pp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function yp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function YE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=pp((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?pp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ra("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(na!==0){var b=y?yp(c,y):new FormData(c);gh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?yp(c,y):new FormData(c),gh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Zh=0;Zh<xc.length;Zh++){var $h=xc[Zh],XE=$h.toLowerCase(),KE=$h[0].toUpperCase()+$h.slice(1);In(XE,"on"+KE)}In(Zd,"onAnimationEnd"),In($d,"onAnimationIteration"),In(Jd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(fE,"onTransitionRun"),In(dE,"onTransitionStart"),In(mE,"onTransitionCancel"),In(Wd,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function _p(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){eo(H)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){eo(H)}c.currentTarget=null,f=b}}}}function wt(t,n){var r=n[Us];r===void 0&&(r=n[Us]=new Set);var l=t+"__bubble";r.has(l)||(vp(n,t,2,!1),r.add(l))}function Jh(t,n,r){var l=0;n&&(l|=4),vp(r,t,l,n)}var po="_reactListening"+Math.random().toString(36).slice(2);function Wh(t){if(!t[po]){t[po]=!0,Ls.forEach(function(r){r!=="selectionchange"&&(ZE.has(r)||Jh(r,!1,t),Jh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[po]||(n[po]=!0,Jh("selectionchange",!1,n))}}function vp(t,n,r,l){switch(Hp(n)){case 2:var c=S0;break;case 8:c=b0;break;default:c=mf}r=c.bind(null,n,r,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function tf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=li(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}yu(function(){var P=f,H=gn(r),F=[];t:{var B=tm.get(t);if(B!==void 0){var q=Ra,mt=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":q=Na;break;case"focusin":mt="focus",q=Ca;break;case"focusout":mt="blur",q=Ca;break;case"beforeblur":case"afterblur":q=Ca;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Ru;break;case Zd:case $d:case Jd:q=Va;break;case Wd:q=Du;break;case"scroll":case"scrollend":q=_u;break;case"wheel":q=Oa;break;case"copy":case"cut":case"paste":q=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Xs;break;case"toggle":case"beforetoggle":q=Vu}var ht=(n&4)!==0,Yt=!ht&&(t==="scroll"||t==="scrollend"),M=ht?B!==null?B+"Capture":null:B;ht=[];for(var C=P,z;C!==null;){var G=C;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||M===null||(G=Ur(C,M),G!=null&&ht.push(Rl(C,G,z))),Yt)break;C=C.return}0<ht.length&&(B=new q(B,mt,null,r,H),F.push({event:B,listeners:ht}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==hi&&(mt=r.relatedTarget||r.fromElement)&&(li(mt)||mt[dn]))break t;if((q||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,q?(mt=r.relatedTarget||r.toElement,q=P,mt=mt?li(mt):null,mt!==null&&(Yt=h(mt),ht=mt.tag,mt!==Yt||ht!==5&&ht!==27&&ht!==6)&&(mt=null)):(q=null,mt=P),q!==mt)){if(ht=yn,G="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Xs,G="onPointerLeave",M="onPointerEnter",C="pointer"),Yt=q==null?B:Pn(q),z=mt==null?B:Pn(mt),B=new ht(G,C+"leave",q,r,H),B.target=Yt,B.relatedTarget=z,G=null,li(H)===P&&(ht=new ht(M,C+"enter",mt,r,H),ht.target=z,ht.relatedTarget=Yt,G=ht),Yt=G,q&&mt)e:{for(ht=q,M=mt,C=0,z=ht;z;z=is(z))C++;for(z=0,G=M;G;G=is(G))z++;for(;0<C-z;)ht=is(ht),C--;for(;0<z-C;)M=is(M),z--;for(;C--;){if(ht===M||M!==null&&ht===M.alternate)break e;ht=is(ht),M=is(M)}ht=null}else ht=null;q!==null&&Ep(F,B,q,ht,!1),mt!==null&&Yt!==null&&Ep(F,Yt,mt,ht,!0)}}t:{if(B=P?Pn(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var at=Bd;else if(Te(B))if(qd)at=oE;else{at=lE;var bt=sE}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ks(P.elementType)&&(at=Bd):at=uE;if(at&&(at=at(t,P))){pi(F,at,r,H);break t}bt&&bt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&qi(B,"number",B.value)}switch(bt=P?Pn(P):window,t){case"focusin":(Te(bt)||bt.contentEditable==="true")&&(Ma=bt,Nc=P,$s=null);break;case"focusout":$s=Nc=Ma=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Xd(F,r,H);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":Xd(F,r,H)}var st;if(Qn)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Vt?k(t,r)&&(ft="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ft="onCompositionStart");ft&&(g&&r.locale!=="ko"&&(Vt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Vt&&(st=Hs()):(kn=H,ki="value"in kn?kn.value:kn.textContent,Vt=!0)),bt=yo(P,ft),0<bt.length&&(ft=new Fs(ft,t,null,r,H),F.push({event:ft,listeners:bt}),st?ft.data=st:(st=W(r),st!==null&&(ft.data=st)))),(st=m?Ee(t,r):It(t,r))&&(ft=yo(P,"onBeforeInput"),0<ft.length&&(bt=new Fs("onBeforeInput","beforeinput",null,r,H),F.push({event:bt,listeners:ft}),bt.data=st)),YE(F,t,P,r,H)}_p(F,n)})}function Rl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function yo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ur(t,r),c!=null&&l.unshift(Rl(t,c,f)),c=Ur(t,n),c!=null&&l.push(Rl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ep(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Ur(r,f),P!=null&&y.unshift(Rl(r,P,b))):c||(P=Ur(r,f),P!=null&&y.push(Rl(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var $E=/\r\n?/g,JE=/\u0000|\uFFFD/g;function Tp(t){return(typeof t=="string"?t:""+t).replace($E,`
`).replace(JE,"")}function Ap(t,n){return n=Tp(n),Tp(t)===n}function _o(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ba(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ba(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=_o);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Bi(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=bc.get(r)||r,Bi(t,r,l))}}function ef(t,n,r,l,c,f){switch(r){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_o);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Bi(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":wt("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ft(t,n,l,H,r,null)}}Or(t,f,E,b,P,y,c,!1),Sa(t);return;case"select":wt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):r!=null&&ci(t,!!l,r,!0);return;case"textarea":wt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Mr(t,l,c,f),Sa(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)wt(bl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,P,l,r,null)}return;default:if(ks(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&ef(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function WE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,H=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(q)||Ft(t,n,q,null,l,F)}}for(var B in l){var q=l[B];if(F=r[B],l.hasOwnProperty(B)&&(q!=null||F!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==F&&Ft(t,n,B,q,l,F)}}rn(t,y,E,b,P,H,f,c);return;case"select":q=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=q,B!=null?ci(t,!!r,B,!1):!!l!=!!r&&(n!=null?ci(t,!!r,n,!0):ci(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Gt(t,B,q);return;case"option":for(var mt in r)if(B=r[mt],r.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Ft(t,n,mt,null,l,B)}for(b in l)if(B=l[b],q=r[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ft(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in r)B=r[ht],r.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht)&&Ft(t,n,ht,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ft(t,n,P,B,l,q)}return;default:if(ks(n)){for(var Yt in r)B=r[Yt],r.hasOwnProperty(Yt)&&B!==void 0&&!l.hasOwnProperty(Yt)&&ef(t,n,Yt,void 0,l,B);for(H in l)B=l[H],q=r[H],!l.hasOwnProperty(H)||B===q||B===void 0&&q===void 0||ef(t,n,H,B,l,q);return}}for(var M in r)B=r[M],r.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&Ft(t,n,M,null,l,B);for(F in l)B=l[F],q=r[F],!l.hasOwnProperty(F)||B===q||B==null&&q==null||Ft(t,n,F,B,l,q)}var nf=null,rf=null;function vo(t){return t.nodeType===9?t:t.ownerDocument}function Sp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sf=null;function t0(){var t=window.event;return t&&t.type==="popstate"?t===sf?!1:(sf=t,!0):(sf=null,!1)}var Rp=typeof setTimeout=="function"?setTimeout:void 0,e0=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,n0=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(t){return wp.resolve(null).then(t).catch(i0)}:Rp;function i0(t){setTimeout(function(){throw t})}function ir(t){return t==="head"}function Dp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&wl(y.documentElement),r&2&&wl(y.body),r&4)for(r=y.head,wl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Cr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),xl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);xl(n)}function lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":lf(r),Pi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function r0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Cr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function a0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function uf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function s0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var of=null;function Cp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Vp(t,n,r){switch(n=vo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pi(t)}var bn=new Map,Ip=new Set;function Eo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=tt.d;tt.d={f:l0,r:u0,D:o0,C:c0,L:h0,m:f0,X:m0,S:d0,M:g0};function l0(){var t=Vi.f(),n=co();return t||n}function u0(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Zm(n):Vi.r(t)}var rs=typeof document>"u"?null:document;function Np(t,n,r){var l=rs;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Ip.has(c)||(Ip.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function o0(t){Vi.D(t),Np("dns-prefetch",t,null)}function c0(t,n){Vi.C(t,n),Np("preconnect",t,n)}function h0(t,n,r){Vi.L(t,n,r);var l=rs;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=as(t);break;case"script":f=ss(t)}bn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),bn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Dl(f))||n==="script"&&l.querySelector(Cl(f))||(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function f0(t,n){Vi.m(t,n);var r=rs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ss(t)}if(!bn.has(f)&&(t=A({rel:"modulepreload",href:t},n),bn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Cl(f)))return}l=r.createElement("link"),Pe(l,"link",t),ue(l),r.head.appendChild(l)}}}function d0(t,n,r){Vi.S(t,n,r);var l=rs;if(l&&t){var c=Xe(l).hoistableStyles,f=as(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Dl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=bn.get(f))&&cf(t,r);var b=y=l.createElement("link");ue(b),Pe(b,"link",t),b._p=new Promise(function(P,H){b.onload=P,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,To(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function m0(t,n){Vi.X(t,n);var r=rs;if(r&&t){var l=Xe(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(Cl(c)),f||(t=A({src:t,async:!0},n),(n=bn.get(c))&&hf(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function g0(t,n){Vi.M(t,n);var r=rs;if(r&&t){var l=Xe(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(Cl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=bn.get(c))&&hf(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Op(t,n,r,l){var c=(c=gt.current)?Eo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=as(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=as(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Dl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),bn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(t,r),f||p0(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ss(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function as(t){return'href="'+de(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Mp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function p0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),ue(n),t.head.appendChild(n))}function ss(t){return'[src="'+de(t)+'"]'}function Cl(t){return"script[async]"+t}function xp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),Pe(l,"style",c),To(l,r.precedence,t),n.instance=l;case"stylesheet":c=as(r.href);var f=t.querySelector(Dl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=Mp(r),(c=bn.get(c))&&cf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",l),n.state.loading|=4,To(f,r.precedence,t),n.instance=f;case"script":return f=ss(r.src),(c=t.querySelector(Cl(f)))?(n.instance=c,ue(c),c):(l=r,(c=bn.get(f))&&(l=A({},r),hf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,To(l,r.precedence,t));return n.instance}function To(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ao=null;function Up(t,n,r){if(Ao===null){var l=new Map,c=Ao=new Map;c.set(r,l)}else c=Ao,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Cr]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Lp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function y0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function _0(){}function v0(t,n,r){if(Vl===null)throw Error(a(475));var l=Vl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=as(r.href),f=t.querySelector(Dl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=So.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=Mp(r),(c=bn.get(c))&&cf(r,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=So.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function E0(){if(Vl===null)throw Error(a(475));var t=Vl;return t.stylesheets&&t.count===0&&ff(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&ff(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function So(){if(this.count--,this.count===0){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bo=null;function ff(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bo=new Map,n.forEach(T0,t),bo=null,So.call(t))}function T0(t,n){if(!(n.state.loading&4)){var r=bo.get(t);if(r)var l=r.get(null);else{r=new Map,bo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=So.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Il={$$typeof:ct,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function A0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Pp(t,n,r,l,c,f,y,E,b,P,H,F){return t=new A0(t,n,r,y,E,b,P,F),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=Fc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Zc(f),t}function Bp(t){return t?(t=za,t):za}function qp(t,n,r,l,c,f){c=Bp(c),l.context===null?l.context=c:l.pendingContext=c,l=Gi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Qi(t,l,n),r!==null&&(hn(r,t,n),sl(r,t,n))}function kp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function df(t,n){kp(t,n),(t=t.alternate)&&kp(t,n)}function jp(t){if(t.tag===13){var n=La(t,67108864);n!==null&&hn(n,t,67108864),df(t,67108864)}}var Ro=!0;function S0(t,n,r,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=2,mf(t,n,r,l)}finally{tt.p=f,j.T=c}}function b0(t,n,r,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=8,mf(t,n,r,l)}finally{tt.p=f,j.T=c}}function mf(t,n,r,l){if(Ro){var c=gf(l);if(c===null)tf(t,n,l,wo,r),Gp(t,l);else if(w0(c,t,n,r,l))l.stopPropagation();else if(Gp(t,l),n&4&&-1<R0.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Dn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-je(y);E.entanglements[1]|=b,y&=~b}$n(f),(jt&6)===0&&(uo=fn()+500,Sl(0))}}break;case 13:E=La(f,2),E!==null&&hn(E,f,2),co(),df(f,2)}if(f=gf(l),f===null&&tf(t,n,l,wo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else tf(t,n,l,null,r)}}function gf(t){return t=gn(t),pf(t)}var wo=null;function pf(t){if(wo=null,t=li(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wo=t,null}function Hp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_c()){case Cs:return 2;case ga:return 8;case Sr:case vc:return 32;case pa:return 268435456;default:return 32}default:return 32}}var yf=!1,rr=null,ar=null,sr=null,Nl=new Map,Ol=new Map,lr=[],R0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gp(t,n){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&jp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function w0(t,n,r,l,c){switch(n){case"focusin":return rr=Ml(rr,t,n,r,l,c),!0;case"dragenter":return ar=Ml(ar,t,n,r,l,c),!0;case"mouseover":return sr=Ml(sr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Nl.set(f,Ml(Nl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,Ml(Ol.get(f)||null,t,n,r,l,c)),!0}return!1}function Qp(t){var n=li(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,cu(t.priority,function(){if(r.tag===13){var l=cn();l=Ui(l);var c=La(r,l);c!==null&&hn(c,r,l),df(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Do(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=gf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);hi=l,r.target.dispatchEvent(l),hi=null}else return n=zn(r),n!==null&&jp(n),t.blockedOn=r,!1;n.shift()}return!0}function Fp(t,n,r){Do(t)&&r.delete(n)}function D0(){yf=!1,rr!==null&&Do(rr)&&(rr=null),ar!==null&&Do(ar)&&(ar=null),sr!==null&&Do(sr)&&(sr=null),Nl.forEach(Fp),Ol.forEach(Fp)}function Co(t,n){t.blockedOn===n&&(t.blockedOn=null,yf||(yf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,D0)))}var Vo=null;function Yp(t){Vo!==t&&(Vo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vo===t&&(Vo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(pf(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,gh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function xl(t){function n(b){return Co(b,t)}rr!==null&&Co(rr,t),ar!==null&&Co(ar,t),sr!==null&&Co(sr,t),Nl.forEach(n),Ol.forEach(n);for(var r=0;r<lr.length;r++){var l=lr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<lr.length&&(r=lr[0],r.blockedOn===null);)Qp(r),r.blockedOn===null&&lr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[fe]||null;if(typeof f=="function")y||Yp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[fe]||null)E=y.formAction;else if(pf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Yp(r)}}}function _f(t){this._internalRoot=t}Io.prototype.render=_f.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();qp(r,l,t,n,null,null)},Io.prototype.unmount=_f.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;qp(t.current,2,null,t,null,null),co(),n[dn]=null}};function Io(t){this._internalRoot=t}Io.prototype.unstable_scheduleHydration=function(t){if(t){var n=Li();t={blockedOn:null,target:t,priority:n};for(var r=0;r<lr.length&&n!==0&&n<lr[r].priority;r++);lr.splice(r,0,t),r===0&&Qp(t)}};var Xp=e.version;if(Xp!=="19.1.0")throw Error(a(527,Xp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var C0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{ae=No.inject(C0),kt=No}catch{}}return Ll.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=cg,f=hg,y=fg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Pp(t,1,!1,null,null,r,l,c,f,y,E,null),t[dn]=n.current,Wh(t),new _f(n)},Ll.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=cg,y=hg,E=fg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Pp(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=Bp(null),r=n.current,l=cn(),l=Ui(l),c=Gi(l),c.callback=null,Qi(r,c,l),r=l,n.current.lanes=r,si(n,r),$n(n),t[dn]=n.current,Wh(t),new Io(n)},Ll.version="19.1.0",Ll}var ry;function P0(){if(ry)return Tf.exports;ry=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Tf.exports=z0(),Tf.exports}var B0=P0();const q0=()=>{};var ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},k0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},E_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,V=(h&3)<<4|p>>4;let x=(p&15)<<2|_>>6,Y=_&63;v||(Y=64,d||(x=64)),a.push(i[A],i[V],i[x],i[Y])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(v_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):k0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const V=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||_==null||V==null)throw new j0;const x=h<<2|p>>4;if(a.push(x),_!==64){const Y=p<<4&240|_>>2;if(a.push(Y),V!==64){const Z=_<<6&192|V;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class j0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H0=function(s){const e=v_(s);return E_.encodeByteArray(e,!0)},Ho=function(s){return H0(s).replace(/\./g,"")},G0=function(s){try{return E_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=()=>Q0().__FIREBASE_DEFAULTS__,Y0=()=>{if(typeof process>"u"||typeof ay>"u")return;const s=ay.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},X0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&G0(s[1]);return e&&JSON.parse(e)},id=()=>{try{return q0()||F0()||Y0()||X0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},K0=s=>id()?.emulatorHosts?.[s],Z0=s=>{const e=K0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},T_=()=>id()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function J0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ho(JSON.stringify(i)),Ho(JSON.stringify(d)),""].join(".")}const kl={};function tT(){const s={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?s.emulator.push(e):s.prod.push(e);return s}function eT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let sy=!1;function nT(s,e){if(typeof window>"u"||typeof document>"u"||!rd(window.location.host)||kl[s]===e||kl[s]||sy)return;kl[s]=e;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",h=tT().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,Y){x.setAttribute("width","24"),x.setAttribute("id",Y),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{sy=!0,d()},x}function A(x,Y){x.setAttribute("id",Y),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function V(){const x=eT(a),Y=i("text"),Z=document.getElementById(Y)||document.createElement("span"),rt=i("learnmore"),J=document.getElementById(rt)||document.createElement("a"),Tt=i("preprendIcon"),pt=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ct=x.element;p(ct),A(J,rt);const qt=_();v(pt,Tt),ct.append(pt,Z,J,qt),document.body.appendChild(ct)}h?(Z.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",V):V()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rT(){const s=id()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aT(){return!rT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sT(){try{return typeof indexedDB=="object"}catch{return!1}}function lT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=uT,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A_.prototype.create)}}class A_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?oT(h,a):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new Ts(u,p,a)}}function oT(s,e){return s.replace(cT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const cT=/\{\$([^}]+)}/g;function Go(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(ly(h)&&ly(d)){if(!Go(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function ly(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(s){return s&&s._delegate?s._delegate:s}class Yl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new $0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dT(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(u)}return u}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(a)??new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:fT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fT(s){return s===ia?void 0:s}function dT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new hT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const gT={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},pT=Mt.INFO,yT={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},_T=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=yT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S_{constructor(e){this.name=e,this._logLevel=pT,this._logHandler=_T,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const vT=(s,e)=>e.some(i=>s instanceof i);let uy,oy;function ET(){return uy||(uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TT(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b_=new WeakMap,xf=new WeakMap,R_=new WeakMap,Rf=new WeakMap,ad=new WeakMap;function AT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(cr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&b_.set(i,s)}).catch(()=>{}),ad.set(e,s),e}function ST(s){if(xf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});xf.set(s,e)}let Uf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return xf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||R_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function bT(s){Uf=s(Uf)}function RT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(wf(this),e,...i);return R_.set(a,e.sort?e.sort():[e]),cr(a)}:TT().includes(s)?function(...e){return s.apply(wf(this),e),cr(b_.get(this))}:function(...e){return cr(s.apply(wf(this),e))}}function wT(s){return typeof s=="function"?RT(s):(s instanceof IDBTransaction&&ST(s),vT(s,ET())?new Proxy(s,Uf):s)}function cr(s){if(s instanceof IDBRequest)return AT(s);if(Rf.has(s))return Rf.get(s);const e=wT(s);return e!==s&&(Rf.set(s,e),ad.set(e,s)),e}const wf=s=>ad.get(s);function DT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=cr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(cr(d.result),v.oldVersion,v.newVersion,cr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const CT=["get","getKey","getAll","getAllKeys","count"],VT=["put","add","delete","clear"],Df=new Map;function cy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=VT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||CT.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),u&&v.done]))[0]};return Df.set(e,h),h}bT(s=>({...s,get:(e,i,a)=>cy(e,i)||s.get(e,i,a),has:(e,i)=>!!cy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function NT(s){return s.getComponent()?.type==="VERSION"}const Lf="@firebase/app",hy="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new S_("@firebase/app"),OT="@firebase/app-compat",MT="@firebase/analytics-compat",xT="@firebase/analytics",UT="@firebase/app-check-compat",LT="@firebase/app-check",zT="@firebase/auth",PT="@firebase/auth-compat",BT="@firebase/database",qT="@firebase/data-connect",kT="@firebase/database-compat",jT="@firebase/functions",HT="@firebase/functions-compat",GT="@firebase/installations",QT="@firebase/installations-compat",FT="@firebase/messaging",YT="@firebase/messaging-compat",XT="@firebase/performance",KT="@firebase/performance-compat",ZT="@firebase/remote-config",$T="@firebase/remote-config-compat",JT="@firebase/storage",WT="@firebase/storage-compat",t1="@firebase/firestore",e1="@firebase/ai",n1="@firebase/firestore-compat",i1="firebase",r1="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="[DEFAULT]",a1={[Lf]:"fire-core",[OT]:"fire-core-compat",[xT]:"fire-analytics",[MT]:"fire-analytics-compat",[LT]:"fire-app-check",[UT]:"fire-app-check-compat",[zT]:"fire-auth",[PT]:"fire-auth-compat",[BT]:"fire-rtdb",[qT]:"fire-data-connect",[kT]:"fire-rtdb-compat",[jT]:"fire-fn",[HT]:"fire-fn-compat",[GT]:"fire-iid",[QT]:"fire-iid-compat",[FT]:"fire-fcm",[YT]:"fire-fcm-compat",[XT]:"fire-perf",[KT]:"fire-perf-compat",[ZT]:"fire-rc",[$T]:"fire-rc-compat",[JT]:"fire-gcs",[WT]:"fire-gcs-compat",[t1]:"fire-fst",[n1]:"fire-fst-compat",[e1]:"fire-vertex","fire-js":"fire-js",[i1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Map,s1=new Map,Pf=new Map;function fy(s,e){try{s.container.addComponent(e)}catch(i){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Fo(s){const e=s.name;if(Pf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,s);for(const i of Qo.values())fy(i,s);for(const i of s1.values())fy(i,s);return!0}function l1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function u1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new A_("app","Firebase",o1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=r1;function w_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:zf,automaticDataCollectionEnabled:!0,...e},u=a.name;if(typeof u!="string"||!u)throw hr.create("bad-app-name",{appName:String(u)});if(i||(i=T_()),!i)throw hr.create("no-options");const h=Qo.get(u);if(h){if(Go(i,h.options)&&Go(a,h.config))return h;throw hr.create("duplicate-app",{appName:u})}const d=new mT(u);for(const v of Pf.values())d.addComponent(v);const p=new c1(i,a,d);return Qo.set(u,p),p}function f1(s=zf){const e=Qo.get(s);if(!e&&s===zf&&T_())return w_();if(!e)throw hr.create("no-app",{appName:s});return e}function fs(s,e,i){let a=a1[s]??s;i&&(a+=`-${i}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${a}" with version "${e}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(d.join(" "));return}Fo(new Yl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="firebase-heartbeat-database",m1=1,Xl="firebase-heartbeat-store";let Cf=null;function D_(){return Cf||(Cf=DT(d1,m1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw hr.create("idb-open",{originalErrorMessage:s.message})})),Cf}async function g1(s){try{const i=(await D_()).transaction(Xl),a=await i.objectStore(Xl).get(C_(s));return await i.done,a}catch(e){if(e instanceof Ts)Ni.warn(e.message);else{const i=hr.create("idb-get",{originalErrorMessage:e?.message});Ni.warn(i.message)}}}async function dy(s,e){try{const a=(await D_()).transaction(Xl,"readwrite");await a.objectStore(Xl).put(e,C_(s)),await a.done}catch(i){if(i instanceof Ts)Ni.warn(i.message);else{const a=hr.create("idb-set",{originalErrorMessage:i?.message});Ni.warn(a.message)}}}function C_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=1024,y1=30;class _1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new E1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=my();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>y1){const u=T1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ni.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=my(),{heartbeatsToSend:i,unsentEntries:a}=v1(this._heartbeatsCache.heartbeats),u=Ho(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Ni.warn(e),""}}}function my(){return new Date().toISOString().substring(0,10)}function v1(s,e=p1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),gy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),gy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class E1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sT()?lT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await g1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return dy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return dy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function gy(s){return Ho(JSON.stringify({version:2,heartbeats:s})).length}function T1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(s){Fo(new Yl("platform-logger",e=>new IT(e),"PRIVATE")),Fo(new Yl("heartbeat",e=>new _1(e),"PRIVATE")),fs(Lf,hy,s),fs(Lf,hy,"esm2020"),fs("fire-js","")}A1("");var S1="firebase",b1="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(S1,b1,"app");var py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fr,V_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(I,N,U){for(var R=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)R[Me-2]=arguments[Me];return S.prototype[N].apply(I,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,S,w){w||(w=0);var I=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)I[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)I[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],N=O.g[2];var U=O.g[3],R=S+(U^w&(N^U))+I[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+I[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+I[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+I[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(U^w&(N^U))+I[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+I[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+I[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+I[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(U^w&(N^U))+I[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+I[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+I[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+I[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(U^w&(N^U))+I[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+I[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+I[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+I[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^U&(w^N))+I[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+I[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+I[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+I[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(w^N))+I[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+I[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+I[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+I[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(w^N))+I[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+I[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+I[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+I[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(w^N))+I[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+I[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+I[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+I[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^U)+I[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+I[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+I[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+I[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^U)+I[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+I[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+I[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+I[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^U)+I[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+I[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+I[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+I[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^U)+I[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+I[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+I[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+I[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~U))+I[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+I[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+I[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+I[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~U))+I[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+I[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+I[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+I[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~U))+I[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+I[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+I[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+I[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~U))+I[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+I[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+I[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,I=this.B,N=this.h,U=0;U<S;){if(N==0)for(;U<=w;)u(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(I[N++]=O.charCodeAt(U++),N==this.blockSize){u(this,I),N=0;break}}else for(;U<S;)if(I[N++]=O[U++],N==this.blockSize){u(this,I),N=0;break}}this.h=N,this.o+=S},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var I=0;32>I;I+=8)O[w++]=this.g[S]>>>I&255;return O};function h(O,S){var w=p;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function d(O,S){this.h=S;for(var w=[],I=!0,N=O.length-1;0<=N;N--){var U=O[N]|0;I&&U==S||(w[N]=U,I=!1)}this.g=w}var p={};function v(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return V;if(0>O)return J(_(-O));for(var S=[],w=1,I=0;O>=w;I++)S[I]=O/w|0,w*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return J(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),I=V,N=0;N<O.length;N+=8){var U=Math.min(8,O.length-N),R=parseInt(O.substring(N,N+U),S);8>U?(U=_(Math.pow(S,U)),I=I.j(U).add(_(R))):(I=I.j(w),I=I.add(_(R)))}return I}var V=v(0),x=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if(rt(this))return-J(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var I=this.i(w);O+=(0<=I?I:4294967296+I)*S,S*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(rt(this))return"-"+J(this).toString(O);for(var S=_(Math.pow(O,6)),w=this,I="";;){var N=qt(w,S).g;w=Tt(w,N.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=N,Z(w))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function rt(O){return O.h==-1}s.l=function(O){return O=Tt(this,O),rt(O)?-1:Z(O)?0:1};function J(O){for(var S=O.g.length,w=[],I=0;I<S;I++)w[I]=~O.g[I];return new d(w,~O.h).add(x)}s.abs=function(){return rt(this)?J(this):this},s.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0,N=0;N<=S;N++){var U=I+(this.i(N)&65535)+(O.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);I=R>>>16,U&=65535,R&=65535,w[N]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Tt(O,S){return O.add(J(S))}s.j=function(O){if(Z(this)||Z(O))return V;if(rt(this))return rt(O)?J(this).j(J(O)):J(J(this).j(O));if(rt(O))return J(this.j(J(O)));if(0>this.l(Y)&&0>O.l(Y))return _(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],I=0;I<2*S;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<O.g.length;N++){var U=this.i(I)>>>16,R=this.i(I)&65535,Me=O.i(N)>>>16,re=O.i(N)&65535;w[2*I+2*N]+=R*re,pt(w,2*I+2*N),w[2*I+2*N+1]+=U*re,pt(w,2*I+2*N+1),w[2*I+2*N+1]+=R*Me,pt(w,2*I+2*N+1),w[2*I+2*N+2]+=U*Me,pt(w,2*I+2*N+2)}for(I=0;I<S;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=S;I<2*S;I++)w[I]=0;return new d(w,0)};function pt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ct(O,S){this.g=O,this.h=S}function qt(O,S){if(Z(S))throw Error("division by zero");if(Z(O))return new ct(V,V);if(rt(O))return S=qt(J(O),S),new ct(J(S.g),J(S.h));if(rt(S))return S=qt(O,J(S)),new ct(J(S.g),S.h);if(30<O.g.length){if(rt(O)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=x,I=S;0>=I.l(O);)w=vt(w),I=vt(I);var N=zt(w,1),U=zt(I,1);for(I=zt(I,2),w=zt(w,2);!Z(I);){var R=U.add(I);0>=R.l(O)&&(N=N.add(w),U=R),I=zt(I,1),w=zt(w,1)}return S=Tt(O,N.j(S)),new ct(N,S)}for(N=V;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=_(w),R=U.j(S);rt(R)||0<R.l(O);)w-=I,U=_(w),R=U.j(S);Z(U)&&(U=x),N=N.add(U),O=Tt(O,R)}return new ct(N,O)}s.A=function(O){return qt(this,O).h},s.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)&O.i(I);return new d(w,this.h&O.h)},s.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)|O.i(I);return new d(w,this.h|O.h)},s.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)^O.i(I);return new d(w,this.h^O.h)};function vt(O){for(var S=O.g.length+1,w=[],I=0;I<S;I++)w[I]=O.i(I)<<1|O.i(I-1)>>>31;return new d(w,O.h)}function zt(O,S){var w=S>>5;S%=32;for(var I=O.g.length-w,N=[],U=0;U<I;U++)N[U]=0<S?O.i(U+w)>>>S|O.i(U+w+1)<<32-S:O.i(U+w);return new d(N,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,V_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,fr=d}).apply(typeof py<"u"?py:typeof self<"u"?self:typeof window<"u"?window:{});var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I_,zl,N_,zo,Bf,O_,M_,x_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oo=="object"&&Oo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in g))break t;g=g[L]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,L={next:function(){if(!T&&g<o.length){var k=g++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function V(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function x(o,m,g){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,x.apply(null,arguments)}function Y(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,L,k){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[L].apply(T,W)}}function rt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function J(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const L=o.length||0,k=T.length||0;o.length=L+k;for(let W=0;W<k;W++)o[L+W]=T[W]}else o.push(T)}}class Tt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(o){return/^[\s\xa0]*$/.test(o)}function ct(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function qt(o){return qt[" "](o),o}qt[" "]=function(){};var vt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function zt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function O(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function S(o){const m={};for(const g in o)m[g]=o[g];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,m){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)o[g]=T[g];for(let k=0;k<w.length;k++)g=w[k],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function N(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function U(o){p.setTimeout(()=>{throw o},0)}function R(){var o=Ut;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,g){const T=re.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new Tt(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,Ut=new Me,D=()=>{const o=p.Promise.resolve(void 0);tt=()=>{o.then(K)}};var K=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(g){U(g)}var m=re;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}lt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function St(o,m){if($.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(vt){t:{try{qt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:gt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&St.aa.h.call(this)}}Z(St,$);var gt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function Un(o,m,g,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=L,this.key=++Kt,this.da=this.fa=!1}function xi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ri(o){this.src=o,this.g={},this.h=0}ri.prototype.add=function(o,m,g,T,L){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var W=Tr(o,m,T,L);return-1<W?(m=o[W],g||(m.fa=!1)):(m=new Un(m,this.src,k,!!T,L),m.fa=g,o.push(m)),m};function Er(o,m){var g=m.type;if(g in o.g){var T=o.g[g],L=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=L)&&Array.prototype.splice.call(T,L,1),k&&(xi(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function Tr(o,m,g,T){for(var L=0;L<o.length;++L){var k=o[L];if(!k.da&&k.listener==m&&k.capture==!!g&&k.ha==T)return L}return-1}var Ar="closure_lm_"+(1e6*Math.random()|0),Ds={};function lu(o,m,g,T,L){if(Array.isArray(m)){for(var k=0;k<m.length;k++)lu(o,m[k],g,T,L);return null}return g=uu(g),o&&o[we]?o.K(m,g,_(T)?!!T.capture:!1,L):fn(o,m,g,!1,T,L)}function fn(o,m,g,T,L,k){if(!m)throw Error("Invalid event type");var W=_(L)?!!L.capture:!!L,Vt=pa(o);if(Vt||(o[Ar]=Vt=new ri(o)),g=Vt.add(m,g,T,W,k),g.proxy)return g;if(T=_c(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ot||(L=W),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Sr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function _c(){function o(g){return m.call(o.src,o.listener,g)}const m=vc;return o}function Cs(o,m,g,T,L){if(Array.isArray(m))for(var k=0;k<m.length;k++)Cs(o,m[k],g,T,L);else T=_(T)?!!T.capture:!!T,g=uu(g),o&&o[we]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],g=Tr(k,g,T,L),-1<g&&(xi(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=pa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Tr(m,g,T,L)),(g=-1<o?m[o]:null)&&ga(g))}function ga(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[we])Er(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Sr(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=pa(m))?(Er(g,o),g.h==0&&(g.src=null,m[Ar]=null)):xi(o)}}}function Sr(o){return o in Ds?Ds[o]:Ds[o]="on"+o}function vc(o,m){if(o.da)o=!0;else{m=new St(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&ga(o),o=g.call(T,m)}return o}function pa(o){return o=o[Ar],o instanceof ri?o:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function uu(o){return typeof o=="function"?o:(o[Vs]||(o[Vs]=function(m){return o.handleEvent(m)}),o[Vs])}function ae(){et.call(this),this.i=new ri(this),this.M=this,this.F=null}Z(ae,et),ae.prototype[we]=!0,ae.prototype.removeEventListener=function(o,m,g,T){Cs(this,o,m,g,T)};function kt(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new $(m,o);else if(m instanceof $)m.target=m.target||o;else{var L=m;m=new $(T,o),I(m,L)}if(L=!0,g)for(var k=g.length-1;0<=k;k--){var W=m.g=g[k];L=nn(W,T,!0,m)&&L}if(W=m.g=o,L=nn(W,T,!0,m)&&L,L=nn(W,T,!1,m)&&L,g)for(k=0;k<g.length;k++)W=m.g=g[k],L=nn(W,T,!1,m)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)xi(g[T]);delete o.g[m],o.h--}}this.F=null},ae.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ae.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function nn(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,k=0;k<m.length;++k){var W=m[k];if(W&&!W.da&&W.capture==g){var Vt=W.listener,Ee=W.ha||W.src;W.fa&&Er(o.i,W),L=Vt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function je(o,m,g){if(typeof o=="function")g&&(o=x(o,g));else if(o&&typeof o.handleEvent=="function")o=x(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function ou(o){o.g=je(()=>{o.g=null,o.i&&(o.i=!1,ou(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ec extends et{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(o){et.call(this),this.h=o,this.g={}}Z(br,et);var Rr=[];function wr(o){zt(o.g,function(m,g){this.g.hasOwnProperty(g)&&ga(m)},o),o.g={}}br.prototype.N=function(){br.aa.N.call(this),wr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=p.JSON.stringify,ya=p.JSON.parse,Dr=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Is(){}Is.prototype.h=null;function Ns(o){return o.h||(o.h=o.i())}function Os(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){$.call(this,"d")}Z(si,$);function Ms(){$.call(this,"c")}Z(Ms,$);var Ln={},xs=null;function Ui(){return xs=xs||new ae}Ln.La="serverreachability";function _a(o){$.call(this,Ln.La,o)}Z(_a,$);function Li(o){const m=Ui();kt(m,new _a(m))}Ln.STAT_EVENT="statevent";function cu(o,m){$.call(this,Ln.STAT_EVENT,o),this.stat=m}Z(cu,$);function Wt(o){const m=Ui();kt(m,new cu(m,o))}Ln.Ma="timingevent";function ve(o,m){$.call(this,Ln.Ma,o),this.size=m}Z(ve,$);function fe(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Us(o,m,g,T,L,k){o.info(function(){if(o.g)if(k)for(var W="",Vt=k.split("&"),Ee=0;Ee<Vt.length;Ee++){var It=Vt[Ee].split("=");if(1<It.length){var Ce=It[0];It=It[1];var Te=Ce.split("_");W=2<=Te.length&&Te[1]=="type"?W+(Ce+"="+It+"&"):W+(Ce+"=redacted&")}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+g+`
`+W})}function Tc(o,m,g,T,L,k,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+g+`
`+k+" "+W})}function zi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Cr(o,g)+(T?" "+T:"")})}function hu(o,m){o.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function Cr(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var k=L[0];if(k!="noop"&&k!="stop"&&k!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return Dn(g)}catch{return m}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Pn(){}Z(Pn,Is),Pn.prototype.g=function(){return new XMLHttpRequest},Pn.prototype.i=function(){return{}},zn=new Pn;function Xe(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Ls={},va={};function Cn(o,m,g){o.L=1,o.v=Mr(rn(m)),o.m=g,o.P=!0,ui(o,null)}function ui(o,m){o.F=Date.now(),Vr(o),o.A=rn(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),js(g.i,"t",T),o.C=0,g=o.j.J,o.h=new ue,o.g=Du(o.j,g?m:null,!o.m),0<o.O&&(o.M=new Ec(x(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Rr[0]=L.toString()),L=Rr);for(var k=0;k<L.length;k++){var W=lu(g,L[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Li(),Us(o.i,o.u,o.A,o.l,o.R,o.m)}Xe.prototype.ca=function(o){o=o.target;const m=this.M;m&&yn(o)==3?m.j():this.Y(o)},Xe.prototype.Y=function(o){try{if(o==this.g)t:{const Te=yn(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||vu(this.g)))){this.J||Te!=4||m==7||(m==8||0>=pi?Li(3):Li(2)),Bi(this);var g=this.g.Z();this.X=g;e:if(fu(this)){var T=vu(this.g);o="";var L=T.length,k=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),Bn(this);var W="";break e}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,Tc(this.i,this.u,this.A,this.l,this.R,Te,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Ee=this.g;if((Vt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Vt)){var It=Vt;break e}}It=null}if(g=It)zi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ir(this,g);else{this.o=!1,this.s=3,Wt(12),xe(this),Bn(this);break t}}if(this.P){g=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=du(this,W),Ue==va){Te==4&&(this.s=4,Wt(14),g=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ls){this.s=4,Wt(15),zi(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else zi(this.i,this.l,Ue,null),Ir(this,Ue);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),g=!1),this.o=this.o&&g,!g)zi(this.i,this.l,W,"[Invalid Chunked Response]"),xe(this),Bn(this);else if(0<W.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),kr(Ce),Ce.M=!0,Wt(11))}}else zi(this.i,this.l,W,null),Ir(this,W);Te==4&&xe(this),this.o&&!this.J&&(Te==4?bu(this.j,this):(this.o=!1,Vr(this)))}else wc(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),xe(this),Bn(this)}}}catch{}finally{}};function fu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function du(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?va:(g=Number(m.substring(g,T)),isNaN(g)?Ls:(T+=1,T+g>m.length?va:(m=m.slice(T,T+g),o.C=T+g,m)))}Xe.prototype.cancel=function(){this.J=!0,xe(this)};function Vr(o){o.S=Date.now()+o.I,mu(o,o.I)}function mu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=fe(x(o.ba,o),m)}function Bi(o){o.B&&(p.clearTimeout(o.B),o.B=null)}Xe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(hu(this.i,this.A),this.L!=2&&(Li(),Wt(17)),xe(this),this.s=2,Bn(this)):mu(this,this.S-o)};function Bn(o){o.j.G==0||o.J||bu(o.j,o)}function xe(o){Bi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,wr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ir(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||zs(g.h,o))){if(!o.K&&zs(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Na(g),Va(g);else break t;Ys(g),Wt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=fe(x(g.Za,g),6e3));if(1>=Ta(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else gi(g,11)}else if((o.K||g.g==o)&&Na(g),!pt(m))for(L=g.Da.g.parse(m),m=0;m<L.length;m++){let It=L[m];if(g.T=It[0],It=It[1],g.G==2)if(It[0]=="c"){g.K=It[1],g.ia=It[2];const Ce=It[3];Ce!=null&&(g.la=Ce,g.j.info("VER="+g.la));const Te=It[4];Te!=null&&(g.Aa=Te,g.j.info("SVER="+g.Aa));const pi=It[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ue=o.g;if(Ue){const Fn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var k=T.h;k.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Aa(k,k.h),k.h=null))}if(T.D){const Ks=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(T.ya=Ks,Gt(T.I,T.D,Ks))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var W=o;if(T.qa=wu(T,T.J?T.ia:null,T.W),W.K){Ke(T.h,W);var Vt=W,Ee=T.L;Ee&&(Vt.I=Ee),Vt.B&&(Bi(Vt),Vr(Vt)),T.g=W}else Au(T);0<g.i.length&&Ia(g)}else It[0]!="stop"&&It[0]!="close"||gi(g,7);else g.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?gi(g,7):Qs(g):It[0]!="noop"&&g.l&&g.l.ta(It),g.v=0)}}Li(4)}catch{}}var gu=class{constructor(o,m){this.g=o,this.map=m}};function oi(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ea(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ta(o){return o.h?1:o.g?o.g.size:0}function zs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Aa(o,m){o.g?o.g.add(m):o.h=m}function Ke(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}oi.prototype.cancel=function(){if(this.i=Ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ps(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return rt(o.i)}function Ac(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function Sa(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function Bs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=Sa(o),T=Ac(o),L=T.length,k=0;k<L;k++)m.call(void 0,T[k],g&&g[k],o)}var Nr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sc(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),L=null;if(0<=T){var k=o[g].substring(0,T);L=o[g].substring(T+1)}else k=o[g];m(k,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof de){this.h=o.h,Or(this,o.j),this.o=o.o,this.g=o.g,qi(this,o.s),this.l=o.l;var m=o.i,g=new hi;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),ci(this,g),this.m=o.m}else o&&(m=String(o).match(Nr))?(this.h=!1,Or(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),qi(this,m[4]),this.l=mn(m[5]||"",!0),ci(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}de.prototype.toString=function(){var o=[],m=this.j;m&&o.push(xr(m,qs,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(xr(m,qs,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(xr(g,g.charAt(0)=="/"?bc:ks,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",xr(g,ba)),o.join("")};function rn(o){return new de(o)}function Or(o,m,g){o.j=g?mn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function qi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function ci(o,m,g){m instanceof hi?(o.i=m,yu(o.i,o.h)):(g||(m=xr(m,Rc)),o.i=new hi(m,o.h))}function Gt(o,m,g){o.i.set(m,g)}function Mr(o){return Gt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function mn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function xr(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,pu),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function pu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qs=/[#\/\?@]/g,ks=/[#\?:]/g,bc=/[#\?]/g,Rc=/[#\?@]/g,ba=/#/g;function hi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function gn(o){o.g||(o.g=new Map,o.h=0,o.i&&Sc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=hi.prototype,s.add=function(o,m){gn(this),this.i=null,o=qn(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function fi(o,m){gn(o),m=qn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function di(o,m){return gn(o),m=qn(o,m),o.g.has(m)}s.forEach=function(o,m){gn(this),this.g.forEach(function(g,T){g.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){gn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const L=o[T];for(let k=0;k<L.length;k++)g.push(m[T])}return g},s.V=function(o){gn(this);let m=[];if(typeof o=="string")di(this,o)&&(m=m.concat(this.g.get(qn(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return gn(this),this.i=null,o=qn(this,o),di(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function js(o,m,g){fi(o,m),0<g.length&&(o.i=null,o.g.set(qn(o,m),rt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const k=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=k;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),o.push(L)}}return this.i=o.join("&")};function qn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function yu(o,m){m&&!o.j&&(gn(o),o.i=null,o.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(fi(this,T),js(this,L,g))},o)),o.j=m}function Ur(o,m){const g=new dn;if(p.Image){const T=new Image;T.onload=Y(pn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=Y(pn,g,"TestLoadImage: error",!1,m,T),T.onabort=Y(pn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=Y(pn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Vn(o,m){const g=new dn,T=new AbortController,L=setTimeout(()=>{T.abort(),pn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(L),k.ok?pn(g,"TestPingServer: ok",!0,m):pn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),pn(g,"TestPingServer: error",!1,m)})}function pn(o,m,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function Lr(){this.g=new Dr}function kn(o,m,g){const T=g||"";try{Bs(o,function(L,k){let W=L;_(L)&&(W=Dn(L)),m.push(T+k+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ki(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(ki,Is),ki.prototype.g=function(){return new mi(this.l,this.j)},ki.prototype.i=function(o){return function(){return o}}({});function mi(o,m){ae.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(mi,ae),s=mi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Hn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?jn(this):Hn(this),this.readyState==3&&Hs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,jn(this))},s.Qa=function(o){this.g&&(this.response=o,jn(this))},s.ga=function(){this.g&&jn(this)};function jn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Hn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function Hn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Gs(o){let m="";return zt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function De(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Gs(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Gt(o,m,g))}function Pt(o){ae.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Pt,ae);var Ra=/^https?$/i,zr=["POST","PUT"];s=Pt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ns(this.o):Ns(zn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){_u(this,k);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),L=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(zr,m,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of g)this.g.setRequestHeader(k,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){_u(this,k)}};function _u(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,wa(o),Gn(o)}function wa(o){o.A||(o.A=!0,kt(o,"complete"),kt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,kt(this,"complete"),kt(this,"abort"),Gn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),Pt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},s.bb=function(){Da(this)};function Da(o){if(o.h&&typeof d<"u"&&(!o.v[1]||yn(o)!=4||o.Z()!=2)){if(o.u&&yn(o)==4)je(o.Ea,0,o);else if(kt(o,"readystatechange"),yn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=W===0){var L=String(o.D).match(Nr)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),T=!Ra.test(L?L.toLowerCase():"")}g=T}if(g)kt(o,"complete"),kt(o,"success");else{o.m=6;try{var k=2<yn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",wa(o)}}finally{Gn(o)}}}}function Gn(o,m){if(o.g){Pr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||kt(o,"ready");try{g.onreadystatechange=T}catch{}}}function Pr(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function yn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),ya(m)}};function vu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function wc(o){const m={};o=(o.g&&2<=yn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(pt(o[T]))continue;var g=N(o[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=m[L]||[];m[L]=k,k.push(g)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Ca(o){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,o),this.cb=Br("retryDelaySeedMs",1e4,o),this.Wa=Br("forwardChannelMaxRetries",2,o),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(o&&o.concurrentRequestLimit),this.Da=new Lr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ca.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){Wt(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=wu(this,null,this.W),Ia(this)};function Qs(o){if(Eu(o),o.G==3){var m=o.U++,g=rn(o.I);if(Gt(g,"SID",o.K),Gt(g,"RID",m),Gt(g,"TYPE","terminate"),qr(o,g),m=new Xe(o,o.j,m),m.L=2,m.v=Mr(rn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Du(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Vr(m)}Ru(o)}function Va(o){o.g&&(kr(o),o.g.cancel(),o.g=null)}function Eu(o){Va(o),o.u&&(p.clearTimeout(o.u),o.u=null),Na(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Ia(o){if(!Ea(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||D(),lt||(tt(),lt=!0),Ut.add(m,o),o.B=0}}function Dc(o,m){return Ta(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=fe(x(o.Ga,o,m),Xs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Xe(this,this.j,o);let k=this.o;if(this.S&&(k?(k=S(k),I(k,this.S)):k=this.S),this.m!==null||this.O||(L.H=k,k=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=Tu(this,L,m),g=rn(this.I),Gt(g,"RID",o),Gt(g,"CVER",22),this.D&&Gt(g,"X-HTTP-Session-Id",this.D),qr(this,g),k&&(this.O?m="headers="+encodeURIComponent(String(Gs(k)))+"&"+m:this.m&&De(g,this.m,k)),Aa(this.h,L),this.Ua&&Gt(g,"TYPE","init"),this.P?(Gt(g,"$req",m),Gt(g,"SID","null"),L.T=!0,Cn(L,g,null)):Cn(L,g,m),this.G=2}}else this.G==3&&(o?Fs(this,o):this.i.length==0||Ea(this.h)||Fs(this))};function Fs(o,m){var g;m?g=m.l:g=o.U++;const T=rn(o.I);Gt(T,"SID",o.K),Gt(T,"RID",g),Gt(T,"AID",o.T),qr(o,T),o.m&&o.o&&De(T,o.m,o.o),g=new Xe(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=Tu(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Aa(o.h,g),Cn(g,T,m)}function qr(o,m){o.H&&zt(o.H,function(g,T){Gt(m,T,g)}),o.l&&Bs({},function(g,T){Gt(m,T,g)})}function Tu(o,m,g){g=Math.min(o.i.length,g);var T=o.l?x(o.l.Na,o.l,o):null;t:{var L=o.i;let k=-1;for(;;){const W=["count="+g];k==-1?0<g?(k=L[0].g,W.push("ofs="+k)):k=0:W.push("ofs="+k);let Vt=!0;for(let Ee=0;Ee<g;Ee++){let It=L[Ee].g;const Ce=L[Ee].map;if(It-=k,0>It)k=Math.max(0,L[Ee].g-100),Vt=!1;else try{kn(Ce,W,"req"+It+"_")}catch{T&&T(Ce)}}if(Vt){T=W.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function Au(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||D(),lt||(tt(),lt=!0),Ut.add(m,o),o.v=0}}function Ys(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=fe(x(o.Fa,o),Xs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,Su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=fe(x(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Va(this),Su(this))};function kr(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function Su(o){o.g=new Xe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=rn(o.qa);Gt(m,"RID","rpc"),Gt(m,"SID",o.K),Gt(m,"AID",o.T),Gt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Gt(m,"TO",o.ja),Gt(m,"TYPE","xmlhttp"),qr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Mr(rn(m)),g.m=null,g.P=!0,ui(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Va(this),Ys(this),Wt(19))};function Na(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function bu(o,m){var g=null;if(o.g==m){Na(o),kr(o),o.g=null;var T=2}else if(zs(o.h,m))g=m.D,Ke(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Ui(),kt(T,new ve(T,g)),Ia(o)}else Au(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Dc(o,m)||T==2&&Ys(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),L){case 1:gi(o,5);break;case 4:gi(o,10);break;case 3:gi(o,6);break;default:gi(o,2)}}}function Xs(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function gi(o,m){if(o.j.info("Error code "+m),m==2){var g=x(o.fb,o),T=o.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Or(T,"https"),Mr(T),L?Ur(T.toString(),g):Vn(T.toString(),g)}else Wt(2);o.G=0,o.l&&o.l.sa(m),Ru(o),Eu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Ru(o){if(o.G=0,o.ka=[],o.l){const m=Ps(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ka,m),J(o.ka,o.i),o.h.i.length=0,rt(o.i),o.i.length=0),o.l.ra()}}function wu(o,m,g){var T=g instanceof de?rn(g):new de(g);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.s);else{var L=p.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var k=new de(null);T&&Or(k,T),m&&(k.g=m),L&&qi(k,L),g&&(k.l=g),T=k}return g=o.D,m=o.ya,g&&m&&Gt(T,g,m),Gt(T,"VER",o.la),qr(o,T),T}function Du(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Pt(new ki({eb:g})):new Pt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cu(){}s=Cu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Oa(){}Oa.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){ae.call(this),this.g=new Ca(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!pt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Qn(this)}Z(Ze,ae),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Qs(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Dn(o),o=g);m.i.push(new gu(m.Ya++,o)),m.G==3&&Ia(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,Ze.aa.N.call(this)};function Vu(o){si.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Vu,si);function Iu(){Ms.call(this),this.status=1}Z(Iu,Ms);function Qn(o){this.g=o}Z(Qn,Cu),Qn.prototype.ua=function(){kt(this.g,"a")},Qn.prototype.ta=function(o){kt(this.g,new Vu(o))},Qn.prototype.sa=function(o){kt(this.g,new Iu)},Qn.prototype.ra=function(){kt(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,x_=function(){return new Oa},M_=function(){return Ui()},O_=Ln,Bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,zo=Pi,li.COMPLETE="complete",N_=li,Os.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",ae.prototype.listen=ae.prototype.K,zl=Os,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,I_=Pt}).apply(typeof Oo<"u"?Oo:typeof self<"u"?self:typeof window<"u"?window:{});const yy="@firebase/firestore",_y="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new S_("@firebase/firestore");function us(){return ua.logLevel}function it(s,...e){if(ua.logLevel<=Mt.DEBUG){const i=e.map(sd);ua.debug(`Firestore (${As}): ${s}`,...i)}}function Oi(s,...e){if(ua.logLevel<=Mt.ERROR){const i=e.map(sd);ua.error(`Firestore (${As}): ${s}`,...i)}}function gs(s,...e){if(ua.logLevel<=Mt.WARN){const i=e.map(sd);ua.warn(`Firestore (${As}): ${s}`,...i)}}function sd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,U_(s,a,i)}function U_(s,e,i){let a=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Oi(a),new Error(a)}function Bt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||U_(e,u,a)}function _t(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class w1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class D1{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Bt(this.o===void 0,42304);let a=this.i;const u=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new aa,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new aa)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Bt(typeof a.accessToken=="string",31837,{l:a}),new L_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class C1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new C1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,u1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Bt(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new vy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=N1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Dt(s,e){return s<e?-1:s>e?1:0}function qf(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const u=s.charAt(a),h=e.charAt(a);if(u!==h)return Vf(u)===Vf(h)?Dt(u,h):Vf(u)?1:-1}return Dt(s.length,e.length)}const O1=55296,M1=57343;function Vf(s){const e=s.charCodeAt(0);return e>=O1&&e<=M1}function ps(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="__name__";class Jn{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&dt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Jn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const a=Jn.isNumericId(e),u=Jn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):qf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class $t extends Jn{construct(e,i,a){return new $t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new nt(Q.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const x1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Jn{construct(e,i,a){return new qe(e,i,a)}static isValidIdentifier(e){return x1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ey}static keyField(){return new qe([Ey])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new nt(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new nt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new nt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(a+=p,u++):(h(),u++)}if(h(),d)throw new nt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut($t.fromString(e))}static fromName(e){return new ut($t.fromString(e).popFirst(5))}static empty(){return new ut($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(s,e,i){if(!i)throw new nt(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function U1(s,e,i,a){if(e===!0&&a===!0)throw new nt(Q.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ty(s){if(!ut.isDocumentKey(s))throw new nt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ay(s){if(ut.isDocumentKey(s))throw new nt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function P_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ac(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function jl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new nt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ac(s);throw new nt(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(s,e){const i={typeString:s};return e&&(i.value=e),i}function nu(s,e){if(!P_(s))throw new nt(Q.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const u=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(u&&typeof d!==u){i=`JSON field '${a}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new nt(Q.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-62135596800,by=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*by);return new Jt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new nt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Sy)throw new nt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/by}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:_e("string",Jt._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Jt(0,0))}static max(){return new yt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function L1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(a===1e9?new Jt(i+1,0):new Jt(i,a));return new mr(u,ut.empty(),e)}function z1(s){return new mr(s.readTime,s.key,Kl)}class mr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new mr(yt.min(),ut.empty(),Kl)}static max(){return new mr(yt.max(),ut.empty(),Kl)}}function P1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,e.documentKey),i!==0?i:Dt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==B1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,a)=>{i(e)})}static reject(e){return new X((i,a)=>{a(e)})}static waitFor(e){return new X((i,a)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},v=>a(v))}),d=!0,h===u&&i()})}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next(u=>u?X.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new X((a,u)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++p,p===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new X((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function k1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=-1;function lc(s){return s==null}function Yo(s){return s===0&&1/s==-1/0}function j1(s){return typeof s=="number"&&Number.isInteger(s)&&!Yo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="";function H1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Ry(e)),e=G1(s.get(i),e);return Ry(e)}function G1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case B_:i+="";break;default:i+=h}}return i}function Ry(s){return s+B_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ca(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function q_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mo(this.root,e,this.comparator,!0)}}class Mo{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Be(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Dy(this.data.getIterator())}getIteratorFrom(e){return new Dy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class Dy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new Mn([])}unionWith(e){let i=new Re(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new k_("Invalid base64 string: "+h):h}}(e);return new ke(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const Q1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if(Bt(!!s,39018),typeof s=="string"){let e=0;const i=Q1.exec(s);if(Bt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?ke.fromBase64String(s):ke.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="server_timestamp",H_="__type__",G_="__previous_value__",Q_="__local_write_time__";function od(s){return(s?.mapValue?.fields||{})[H_]?.stringValue===j_}function uc(s){const e=s.mapValue.fields[G_];return od(e)?uc(e):e}function Zl(s){const e=gr(s.mapValue.fields[Q_].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,i,a,u,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Xo="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||Xo}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Xo}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="__type__",Y1="__max__",xo={mapValue:{}},Y_="__vector__",Ko="value";function yr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?od(s)?4:K1(s)?9007199254740991:X1(s)?10:11:dt(28295,{value:s})}function ii(s,e){if(s===e)return!0;const i=yr(s);if(i!==yr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=gr(u.timestampValue),p=gr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return pr(u.bytesValue).isEqual(pr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return he(u.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(u.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return he(u.integerValue)===he(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=he(u.doubleValue),p=he(h.doubleValue);return d===p?Yo(d)===Yo(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return ps(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(wy(d)!==wy(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ii(d[v],p[v])))return!1;return!0}(s,e);default:return dt(52216,{left:s})}}function Jl(s,e){return(s.values||[]).find(i=>ii(i,e))!==void 0}function ys(s,e){if(s===e)return 0;const i=yr(s),a=yr(e);if(i!==a)return Dt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=he(h.integerValue||h.doubleValue),v=he(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(s,e);case 3:return Cy(s.timestampValue,e.timestampValue);case 4:return Cy(Zl(s),Zl(e));case 5:return qf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=pr(h),v=pr(d);return p.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Dt(p[_],v[_]);if(A!==0)return A}return Dt(p.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=Dt(he(h.latitude),he(d.latitude));return p!==0?p:Dt(he(h.longitude),he(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Vy(s.arrayValue,e.arrayValue);case 10:return function(h,d){const p=h.fields||{},v=d.fields||{},_=p[Ko]?.arrayValue,A=v[Ko]?.arrayValue,V=Dt(_?.values?.length||0,A?.values?.length||0);return V!==0?V:Vy(_,A)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===xo.mapValue&&d===xo.mapValue)return 0;if(h===xo.mapValue)return 1;if(d===xo.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let V=0;V<v.length&&V<A.length;++V){const x=qf(v[V],A[V]);if(x!==0)return x;const Y=ys(p[v[V]],_[A[V]]);if(Y!==0)return Y}return Dt(v.length,A.length)}(s.mapValue,e.mapValue);default:throw dt(23264,{he:i})}}function Cy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Dt(s,e);const i=gr(s),a=gr(e),u=Dt(i.seconds,a.seconds);return u!==0?u:Dt(i.nanos,a.nanos)}function Vy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=ys(i[u],a[u]);if(h)return h}return Dt(i.length,a.length)}function _s(s){return kf(s)}function kf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=gr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return pr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ut.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=kf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${kf(i.fields[d])}`;return u+"}"}(s.mapValue):dt(61005,{value:s})}function Po(s){switch(yr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uc(s);return e?16+Po(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Po(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return ca(a.fields,(h,d)=>{u+=h.length+Po(d)}),u}(s.mapValue);default:throw dt(13486,{value:s})}}function Iy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function jf(s){return!!s&&"integerValue"in s}function cd(s){return!!s&&"arrayValue"in s}function Ny(s){return!!s&&"nullValue"in s}function Oy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bo(s){return!!s&&"mapValue"in s}function X1(s){return(s?.mapValue?.fields||{})[F_]?.stringValue===Y_}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ca(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Hl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return e}return{...s}}function K1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Y1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Bo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=qe.emptyPath(),a={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,u),a={},u=[],i=p.popLast()}d?a[p.lastSegment()]=Hl(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Bo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Bo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){ca(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new Rn(Hl(this.value))}}function X_(s){const e=[];return ca(s.fields,(i,a)=>{const u=new qe([i]);if(Bo(a)){const h=X_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,a,u,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ye(e,0,yt.min(),yt.min(),yt.min(),Rn.empty(),0)}static newFoundDocument(e,i,a,u){return new Ye(e,1,i,yt.min(),a,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,yt.min(),yt.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,yt.min(),yt.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i){this.position=e,this.inclusive=i}}function My(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),i.key):a=ys(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function xy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,i="asc"){this.field=e,this.dir=i}}function Z1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{}class ye extends K_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new J1(e,i,a):i==="array-contains"?new eA(e,a):i==="in"?new nA(e,a):i==="not-in"?new iA(e,a):i==="array-contains-any"?new rA(e,a):new ye(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new W1(e,a):new tA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ys(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(ys(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xn extends K_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new xn(e,i)}matches(e){return Z_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Z_(s){return s.op==="and"}function $_(s){return $1(s)&&Z_(s)}function $1(s){for(const e of s.filters)if(e instanceof xn)return!1;return!0}function Hf(s){if(s instanceof ye)return s.field.canonicalString()+s.op.toString()+_s(s.value);if($_(s))return s.filters.map(e=>Hf(e)).join(",");{const e=s.filters.map(i=>Hf(i)).join(",");return`${s.op}(${e})`}}function J_(s,e){return s instanceof ye?function(a,u){return u instanceof ye&&a.op===u.op&&a.field.isEqual(u.field)&&ii(a.value,u.value)}(s,e):s instanceof xn?function(a,u){return u instanceof xn&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,p)=>h&&J_(d,u.filters[p]),!0):!1}(s,e):void dt(19439)}function W_(s){return s instanceof ye?function(i){return`${i.field.canonicalString()} ${i.op} ${_s(i.value)}`}(s):s instanceof xn?function(i){return i.op.toString()+" {"+i.getFilters().map(W_).join(" ,")+"}"}(s):"Filter"}class J1 extends ye{constructor(e,i,a){super(e,i,a),this.key=ut.fromName(a.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class W1 extends ye{constructor(e,i){super(e,"in",i),this.keys=tv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class tA extends ye{constructor(e,i){super(e,"not-in",i),this.keys=tv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function tv(s,e){return(e.arrayValue?.values||[]).map(i=>ut.fromName(i.referenceValue))}class eA extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cd(i)&&Jl(i.arrayValue,this.value)}}class nA extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class iA extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class rA extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Jl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,i=null,a=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function Uy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new aA(s,e,i,a,u,h,d)}function hd(s){const e=_t(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Hf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),lc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>_s(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>_s(a)).join(",")),e.Te=i}return e.Te}function fd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Z1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!J_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!xy(s.startAt,e.startAt)&&xy(s.endAt,e.endAt)}function Gf(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,i=null,a=[],u=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sA(s,e,i,a,u,h,d,p){return new Rs(s,e,i,a,u,h,d,p)}function dd(s){return new Rs(s)}function Ly(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ev(s){return s.collectionGroup!==null}function Gl(s){const e=_t(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Re(qe.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Wl(h,a))}),i.has(qe.keyField().canonicalString())||e.Ie.push(new Wl(qe.keyField(),a))}return e.Ie}function Wn(s){const e=_t(s);return e.Ee||(e.Ee=lA(e,Gl(s))),e.Ee}function lA(s,e){if(s.limitType==="F")return Uy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Wl(u.field,h)});const i=s.endAt?new Zo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Zo(s.startAt.position,s.startAt.inclusive):null;return Uy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Qf(s,e){const i=s.filters.concat([e]);return new Rs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Ff(s,e,i){return new Rs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function oc(s,e){return fd(Wn(s),Wn(e))&&s.limitType===e.limitType}function nv(s){return`${hd(Wn(s))}|lt:${s.limitType}`}function os(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>W_(u)).join(", ")}]`),lc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>_s(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>_s(u)).join(",")),`Target(${a})`}(Wn(s))}; limitType=${s.limitType})`}function cc(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ut.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Gl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,p,v){const _=My(d,p,v);return d.inclusive?_<=0:_<0}(a.startAt,Gl(a),u)||a.endAt&&!function(d,p,v){const _=My(d,p,v);return d.inclusive?_>=0:_>0}(a.endAt,Gl(a),u))}(s,e)}function uA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function iv(s){return(e,i)=>{let a=!1;for(const u of Gl(s)){const h=oA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function oA(s,e,i){const a=s.field.isKeyField()?ut.comparator(e.key,i.key):function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?ys(v,_):dt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return q_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new ie(ut.comparator);function Mi(){return cA}const rv=new ie(ut.comparator);function Pl(...s){let e=rv;for(const i of s)e=e.insert(i.key,i);return e}function av(s){let e=rv;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ra(){return Ql()}function sv(){return Ql()}function Ql(){return new ha(s=>s.toString(),(s,e)=>s.isEqual(e))}const hA=new ie(ut.comparator),fA=new Re(ut.comparator);function Ct(...s){let e=fA;for(const i of s)e=e.add(i);return e}const dA=new Re(Dt);function mA(){return dA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yo(e)?"-0":e}}function lv(s){return{integerValue:""+s}}function gA(s,e){return j1(e)?lv(e):md(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this._=void 0}}function pA(s,e,i){return s instanceof $o?function(u,h){const d={fields:{[H_]:{stringValue:j_},[Q_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&od(h)&&(h=uc(h)),h&&(d.fields[G_]=h),{mapValue:d}}(i,e):s instanceof tu?ov(s,e):s instanceof eu?cv(s,e):function(u,h){const d=uv(u,h),p=zy(d)+zy(u.Ae);return jf(d)&&jf(u.Ae)?lv(p):md(u.serializer,p)}(s,e)}function yA(s,e,i){return s instanceof tu?ov(s,e):s instanceof eu?cv(s,e):i}function uv(s,e){return s instanceof Jo?function(a){return jf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class $o extends hc{}class tu extends hc{constructor(e){super(),this.elements=e}}function ov(s,e){const i=hv(e);for(const a of s.elements)i.some(u=>ii(u,a))||i.push(a);return{arrayValue:{values:i}}}class eu extends hc{constructor(e){super(),this.elements=e}}function cv(s,e){let i=hv(e);for(const a of s.elements)i=i.filter(u=>!ii(u,a));return{arrayValue:{values:i}}}class Jo extends hc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function zy(s){return he(s.integerValue||s.doubleValue)}function hv(s){return cd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function _A(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof tu&&u instanceof tu||a instanceof eu&&u instanceof eu?ps(a.elements,u.elements,ii):a instanceof Jo&&u instanceof Jo?ii(a.Ae,u.Ae):a instanceof $o&&u instanceof $o}(s.transform,e.transform)}class vA{constructor(e,i){this.version=e,this.transformResults=i}}class Ii{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class fc{}function fv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new mv(s.key,Ii.none()):new iu(s.key,s.data,Ii.none());{const i=s.data,a=Rn.empty();let u=new Re(qe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new fa(s.key,a,new Mn(u.toArray()),Ii.none())}}function EA(s,e,i){s instanceof iu?function(u,h,d){const p=u.value.clone(),v=By(u.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof fa?function(u,h,d){if(!qo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=By(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(dv(u)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(s,e,i,a){return s instanceof iu?function(h,d,p,v){if(!qo(h.precondition,d))return p;const _=h.value.clone(),A=qy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,a):s instanceof fa?function(h,d,p,v){if(!qo(h.precondition,d))return p;const _=qy(h.fieldTransforms,v,d),A=d.data;return A.setAll(dv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(s,e,i,a):function(h,d,p){return qo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function TA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=uv(a.transform,u||null);h!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,h))}return i||null}function Py(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&ps(a,u,(h,d)=>_A(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class iu extends fc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class fa extends fc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function dv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function By(s,e,i){const a=new Map;Bt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);a.set(h.field,yA(d,p,i[u]))}return a}function qy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,pA(h,d,e))}return a}class mv extends fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AA extends fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&EA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=sv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const v=fv(d,p);v!==null&&a.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(i,a)=>Py(i,a))&&ps(this.baseMutations,e.baseMutations,(i,a)=>Py(i,a))}}class gd{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){Bt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let u=function(){return hA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new gd(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ot;function wA(s){switch(s){case Q.OK:return dt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function gv(s){if(s===void 0)return Oi("GRPC error has no .code"),Q.UNKNOWN;switch(s){case pe.OK:return Q.OK;case pe.CANCELLED:return Q.CANCELLED;case pe.UNKNOWN:return Q.UNKNOWN;case pe.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case pe.INTERNAL:return Q.INTERNAL;case pe.UNAVAILABLE:return Q.UNAVAILABLE;case pe.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case pe.NOT_FOUND:return Q.NOT_FOUND;case pe.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case pe.ABORTED:return Q.ABORTED;case pe.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case pe.DATA_LOSS:return Q.DATA_LOSS;default:return dt(39323,{code:s})}}(Ot=pe||(pe={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new fr([4294967295,4294967295],0);function ky(s){const e=DA().encode(s),i=new V_;return i.update(e),new Uint8Array(i.digest())}function jy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new fr([i,a],0),new fr([u,h],0)]}class pd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(a<0)throw new Bl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fr.fromNumber(this.ge)}ye(e,i,a){let u=e.add(i.multiply(fr.fromNumber(a)));return u.compare(CA)===1&&(u=new fr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ky(e),[a,u]=jy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,u,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new pd(h,u,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.ge===0)return;const i=ky(e),[a,u]=jy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new dc(yt.min(),u,new ie(Dt),Mi(),Ct())}}class ru{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ru(a,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,i,a,u){this.be=e,this.removedTargetIds=i,this.key=a,this.De=u}}class pv{constructor(e,i){this.targetId=e,this.Ce=i}}class yv{constructor(e,i,a=ke.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Hy{constructor(){this.ve=0,this.Fe=Gy(),this.Me=ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ct(),i=Ct(),a=Ct();return this.Fe.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:dt(38017,{changeType:h})}}),new ru(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Gy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mi(),this.Je=Uo(),this.He=Uo(),this.Ye=new ie(Dt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((a,u)=>{this.rt(u)&&i(u)})}st(e){const i=e.targetId,a=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(Gf(h))if(a===0){const d=new ut(h.path);this.et(i,d,Ye.newNoDocument(d,yt.min()))}else Bt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=pr(a).toUint8Array()}catch(v){if(v instanceof k_)return gs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new pd(d,u,h)}catch(v){return gs(v instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),u++)}),u}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Gf(p.target)){const v=new ut(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ye.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let a=Ct();this.He.forEach((h,d)=>{let p=!0;d.forEachWhile(v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const u=new dc(e,i,this.Ye,this.je,a);return this.je=Mi(),this.Je=Uo(),this.He=Uo(),this.Ye=new ie(Dt),u}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Hy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Re(Dt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Re(Dt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Hy),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Uo(){return new ie(ut.comparator)}function Gy(){return new ie(ut.comparator)}const IA={asc:"ASCENDING",desc:"DESCENDING"},NA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OA={and:"AND",or:"OR"};class MA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Yf(s,e){return s.useProto3Json||lc(e)?e:{value:e}}function Wo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _v(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function xA(s,e){return Wo(s,e.toTimestamp())}function ti(s){return Bt(!!s,49232),yt.fromTimestamp(function(i){const a=gr(i);return new Jt(a.seconds,a.nanos)}(s))}function yd(s,e){return Xf(s,e).canonicalString()}function Xf(s,e){const i=function(u){return new $t(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function vv(s){const e=$t.fromString(s);return Bt(bv(e),10190,{key:e.toString()}),e}function Kf(s,e){return yd(s.databaseId,e.path)}function If(s,e){const i=vv(e);if(i.get(1)!==s.databaseId.projectId)throw new nt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new nt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(Tv(i))}function Ev(s,e){return yd(s.databaseId,e)}function UA(s){const e=vv(s);return e.length===4?$t.emptyPath():Tv(e)}function Zf(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Tv(s){return Bt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Qy(s,e,i){return{name:Kf(s,e),fields:i.value.mapValue.fields}}function LA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),ke.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ke.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const A=_.code===void 0?Q.UNKNOWN:gv(_.code);return new nt(A,_.message||"")}(d);i=new yv(a,u,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=If(s,a.document.name),h=ti(a.document.updateTime),d=a.document.createTime?ti(a.document.createTime):yt.min(),p=new Rn({mapValue:{fields:a.document.fields}}),v=Ye.newFoundDocument(u,h,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new ko(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=If(s,a.document),h=a.readTime?ti(a.readTime):yt.min(),d=Ye.newNoDocument(u,h),p=a.removedTargetIds||[];i=new ko([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=If(s,a.document),h=a.removedTargetIds||[];i=new ko([],h,u,null)}else{if(!("filter"in e))return dt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new RA(u,h),p=a.targetId;i=new pv(p,d)}}return i}function zA(s,e){let i;if(e instanceof iu)i={update:Qy(s,e.key,e.value)};else if(e instanceof mv)i={delete:Kf(s,e.key)};else if(e instanceof fa)i={update:Qy(s,e.key,e.data),updateMask:FA(e.fieldMask)};else{if(!(e instanceof AA))return dt(16599,{Vt:e.type});i={verify:Kf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof $o)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof tu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jo)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:xA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)}(s,e.precondition)),i}function PA(s,e){return s&&s.length>0?(Bt(e!==void 0,14353),s.map(i=>function(u,h){let d=u.updateTime?ti(u.updateTime):ti(h);return d.isEqual(yt.min())&&(d=ti(h)),new vA(d,u.transformResults||[])}(i,e))):[]}function BA(s,e){return{documents:[Ev(s,e.path)]}}function qA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Ev(s,u);const h=function(_){if(_.length!==0)return Sv(xn.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(x){return{field:cs(x.field),direction:HA(x.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Yf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:i,parent:u}}function kA(s){let e=UA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){Bt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(V){const x=Av(V);return x instanceof xn&&$_(x)?x.getFilters():[x]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(x=>function(Z){return new Wl(hs(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(x))}(i.orderBy));let p=null;i.limit&&(p=function(V){let x;return x=typeof V=="object"?V.value:V,lc(x)?null:x}(i.limit));let v=null;i.startAt&&(v=function(V){const x=!!V.before,Y=V.values||[];return new Zo(Y,x)}(i.startAt));let _=null;return i.endAt&&(_=function(V){const x=!V.before,Y=V.values||[];return new Zo(Y,x)}(i.endAt)),sA(e,u,d,h,p,"F",v,_)}function jA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Av(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=hs(i.unaryFilter.field);return ye.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=hs(i.unaryFilter.field);return ye.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return ye.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(s):s.fieldFilter!==void 0?function(i){return ye.create(hs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return xn.create(i.compositeFilter.filters.map(a=>Av(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(s):dt(30097,{filter:s})}function HA(s){return IA[s]}function GA(s){return NA[s]}function QA(s){return OA[s]}function cs(s){return{fieldPath:s.canonicalString()}}function hs(s){return qe.fromServerFormat(s.fieldPath)}function Sv(s){return s instanceof ye?function(i){if(i.op==="=="){if(Oy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(Ny(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Oy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(Ny(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:GA(i.op),value:i.value}}}(s):s instanceof xn?function(i){const a=i.getFilters().map(u=>Sv(u));return a.length===1?a[0]:{compositeFilter:{op:QA(i.op),filters:a}}}(s):dt(54877,{filter:s})}function FA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function bv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,i,a,u,h=yt.min(),d=yt.min(),p=ke.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.yt=e}}function XA(s){const e=kA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.Cn=new ZA}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(mr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class ZA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Re($t.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Re($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(Rv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vs(0)}static cr(){return new vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="LruGarbageCollector",$A=1048576;function Xy([s,e],[i,a]){const u=Dt(s,i);return u===0?Dt(e,a):u}class JA{constructor(e){this.Ir=e,this.buffer=new Re(Xy),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Xy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class WA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(Yy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bs(i)?it(Yy,"Ignoring IndexedDB error during garbage collection: ",i):await Ss(i)}await this.Vr(3e5)})}}class tS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return X.resolve(sc.ce);const a=new JA(i);return this.mr.forEachTarget(e,u=>a.Ar(u.sequenceNumber)).next(()=>this.mr.pr(e,u=>a.Ar(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Fy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fy):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,u,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),u=this.params.maximumSequenceNumbersToCollect):u=V,d=Date.now(),this.nthSequenceNumber(e,u))).next(V=>(a=V,p=Date.now(),this.removeTargets(e,a,i))).next(V=>(h=V,v=Date.now(),this.removeOrphanedDocuments(e,a))).next(V=>(_=Date.now(),us()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${V} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:V})))}}function eS(s,e){return new tS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.changes=new ha(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Fl(a.mutation,u,Mn.empty(),Jt.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ct()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ct()){const u=ra();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Pl();return h.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ra();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ct()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,u){let h=Mi();const d=Ql(),p=function(){return Ql()}();return i.forEach((v,_)=>{const A=a.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof fa)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Fl(A.mutation,_,A.mutation.getFieldMask(),Jt.now())):d.set(_.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>p.set(_,new iS(A,d.get(_)??null))),p))}recalculateAndSaveOverlays(e,i){const a=Ql();let u=new ie((d,p)=>d-p),h=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Mn.empty();A=p.applyToLocalView(_,A),a.set(v,A);const V=(u.get(p.batchId)||Ct()).add(v);u=u.insert(p.batchId,V)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,V=sv();A.forEach(x=>{if(!h.has(x)){const Y=fv(i.get(x),a.get(x));Y!==null&&V.set(x,Y),h=h.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,V))}return X.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ev(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):X.resolve(ra());let p=Kl,v=h;return d.next(_=>X.forEach(_,(A,V)=>(p<V.largestBatchId&&(p=V.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next(x=>{v=v.insert(A,x)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Ct())).next(A=>({batchId:p,changes:av(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next(a=>{let u=Pl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,h).next(p=>X.forEach(p,v=>{const _=function(V,x){return new Rs(x,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,u).next(A=>{A.forEach((V,x)=>{d=d.insert(V,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let p=Pl();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Fl(A.mutation,_,Mn.empty(),Jt.now()),cc(i,_)&&(p=p.insert(v,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ti(u.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(u){return{name:u.name,query:XA(u.bundledQuery),readTime:ti(u.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.overlays=new ie(ut.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ra();return X.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.St(e,i,h)}),X.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.qr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const u=ra(),h=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&u.set(v.getKey(),v)}return X.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ie((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=ra(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=ra(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>p.set(_,A)),!(p.size()>=u)););return X.resolve(p)}St(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(a.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new bA(i,a));let h=this.qr.get(i);h===void 0&&(h=Ct(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.Qr=new Re(Oe.$r),this.Ur=new Re(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Oe(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Gr(new Oe(e,i))}zr(e,i){e.forEach(a=>this.removeReference(a,i))}jr(e){const i=new ut(new $t([])),a=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.Ur.forEachInRange([a,u],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ut(new $t([])),a=new Oe(i,e),u=new Oe(i,e+1);let h=Ct();return this.Ur.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Oe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ut.comparator(e.key,i.key)||Dt(e.Yr,i.Yr)}static Kr(e,i){return Dt(e.Yr,i.Yr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Re(Oe.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new SA(h,i,a,u);this.mutationQueue.push(d);for(const p of u)this.Zr=this.Zr.add(new Oe(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ei(a),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ud:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,u],d=>{const p=this.Xr(d.Yr);h.push(p)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Re(Dt);return i.forEach(u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],p=>{a=a.add(p.Yr)})}),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ut.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ut(h),0);let p=new Re(Dt);return this.Zr.forEachWhile(v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===u&&(p=p.add(v.Yr)),!0)},d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach(a=>{const u=this.Xr(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Bt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,u=>{const h=new Oe(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,i){const a=new Oe(i,0),u=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.ri=e,this.docs=function(){return new ie(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let a=Mi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))}),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Mi();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||P1(z1(A),a)<=0||(u.has(A.key)||cc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,a,u){dt(9500)}ii(e,i){return X.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new cS(this)}getSize(e){return X.resolve(this.size)}}class cS extends nS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(a)}),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.persistence=e,this.si=new ha(i=>hd(i),fd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new _d,this.targetCount=0,this.ai=vs.ur()}forEachTarget(e,i){return this.si.forEach((a,u)=>i(u)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new vs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),X.waitFor(h).next(()=>u)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,i){this.ui={},this.overlays={},this.ci=new sc(0),this.li=!1,this.li=!0,this.hi=new lS,this.referenceDelegate=e(this),this.Pi=new hS(this),this.indexManager=new KA,this.remoteDocumentCache=function(u){return new oS(u)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new YA(i),this.Ii=new aS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new sS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new uS(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new fS(this.ci.next());return this.referenceDelegate.Ei(),a(u).next(h=>this.referenceDelegate.di(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ai(e,i){return X.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,i)))}}class fS extends q1{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.Ri=new _d,this.Vi=null}static mi(e){return new vd(e)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(u=>this.fi.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.fi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,a=>{const u=ut.fromPath(a);return this.gi(e,u).next(h=>{h||i.removeEntry(u,yt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class tc{constructor(e,i){this.persistence=e,this.pi=new ha(a=>H1(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=eS(this,i)}static mi(e,i){return new tc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}wr(e){let i=0;return this.pr(e,a=>{i++}).next(()=>i)}pr(e,i){return X.forEach(this.pi,(a,u)=>this.br(e,a,u).next(h=>h?X.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,d=>this.br(e,d,i).next(p=>{p||(a++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Po(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return X.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=u}static As(e,i){let a=Ct(),u=Ct();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Ed(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return aT()?8:k1(iT())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new dS;return this.Ss(e,i,d).next(p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)})}).next(()=>h.result)}bs(e,i,a,u){return a.documentReadCount<this.fs?(us()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(us()<=Mt.DEBUG&&it("QueryEngine","Query:",os(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.gs*u?(us()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(i))):X.resolve())}ys(e,i){if(Ly(i))return X.resolve(null);let a=Wn(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Ff(i,null,"F"),a=Wn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Ct(...h);return this.ps.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,Ff(i,null,"F")):this.vs(e,_,i,v)}))})))}ws(e,i,a,u){return Ly(i)||u.isEqual(yt.min())?X.resolve(null):this.ps.getDocuments(e,a).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,u)?X.resolve(null):(us()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),os(i)),this.vs(e,d,i,L1(u,Kl)).next(p=>p))})}Ds(e,i){let a=new Re(iv(e));return i.forEach((u,h)=>{cc(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,a){return us()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",os(i)),this.ps.getDocumentsMatchingQuery(e,i,mr.min(),a)}vs(e,i,a,u){return this.ps.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="LocalStore",gS=3e8;class pS{constructor(e,i,a,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new ie(Dt),this.xs=new ha(h=>hd(h),fd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function yS(s,e,i,a){return new pS(s,e,i,a)}async function Dv(s,e){const i=_t(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let v=Ct();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:p}))})})}function _S(s,e){const i=_t(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(p,v,_,A){const V=_.batch,x=V.keys();let Y=X.resolve();return x.forEach(Z=>{Y=Y.next(()=>A.getEntry(v,Z)).next(rt=>{const J=_.docVersions.get(Z);Bt(J!==null,48541),rt.version.compareTo(J)<0&&(V.applyToRemoteDocument(rt,_),rt.isValidDocument()&&(rt.setReadTime(_.commitVersion),A.addEntry(rt)))})}),Y.next(()=>p.mutationQueue.removeMutationBatch(v,V))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let v=Ct();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function Cv(s){const e=_t(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function vS(s,e){const i=_t(s),a=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const p=[];e.targetChanges.forEach((A,V)=>{const x=u.get(V);if(!x)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,V).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,V)));let Y=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?Y=Y.withResumeToken(ke.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,a)),u=u.insert(V,Y),function(rt,J,Tt){return rt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=gS?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(x,Y,A)&&p.push(i.Pi.updateTargetData(h,Y))});let v=Mi(),_=Ct();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(ES(h,d,e.documentUpdates).next(A=>{v=A.ks,_=A.qs})),!a.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(V=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(A)}return X.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Ms=u,h))}function ES(s,e,i){let a=Ct(),u=Ct();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Mi();return i.forEach((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(p)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):it(Td,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)}),{ks:d,qs:u}})}function TS(s,e){const i=_t(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=ud),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function AS(s,e){const i=_t(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Pi.getTargetData(a,e).next(h=>h?(u=h,X.resolve(u)):i.Pi.allocateTargetId(a).next(d=>(u=new or(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ms.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a})}async function $f(s,e,i){const a=_t(s),u=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!bs(d))throw d;it(Td,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(u.target)}function Ky(s,e,i){const a=_t(s);let u=yt.min(),h=Ct();return a.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const V=_t(v),x=V.xs.get(A);return x!==void 0?X.resolve(V.Ms.get(x)):V.Pi.getTargetData(_,A)}(a,d,Wn(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next(v=>{h=v})}).next(()=>a.Fs.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?h:Ct())).next(p=>(SS(a,uA(e),p),{documents:p,Qs:h})))}function SS(s,e,i){let a=s.Os.get(e)||yt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Os.set(e,a)}class Zy{constructor(){this.activeTargetIds=mA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bS{constructor(){this.Mo=new Zy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="ConnectivityMonitor";class Jy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it($y,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it($y,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo=null;function Jf(){return Lo===null?Lo=function(){return 268435456+Math.round(2147483648*Math.random())}():Lo++,"0x"+Lo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="RestConnection",wS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${u}`,this.Wo=this.databaseId.database===Xo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Go(e,i,a,u,h){const d=Jf(),p=this.zo(e,i.toUriEncodedString());it(Nf,`Sending RPC '${e}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(p),A=rd(_);return this.Jo(e,p,v,a,A).then(V=>(it(Nf,`Received RPC '${e}' ${d}: `,V),V),V=>{throw gs(Nf,`RPC '${e}' ${d} failed with error: `,V,"url: ",p,"request:",a),V})}Ho(e,i,a,u,h,d){return this.Go(e,i,a,u,h)}jo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}zo(e,i){const a=wS[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class VS extends DS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=Jf();return new Promise((p,v)=>{const _=new I_;_.setWithCredentials(!0),_.listenOnce(N_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case zo.NO_ERROR:const V=_.getResponseJson();it(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(V)),p(V);break;case zo.TIMEOUT:it(Qe,`RPC '${e}' ${d} timed out`),v(new nt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case zo.HTTP_ERROR:const x=_.getStatus();if(it(Qe,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const Z=Y?.error;if(Z&&Z.status&&Z.message){const rt=function(Tt){const pt=Tt.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(pt)>=0?pt:Q.UNKNOWN}(Z.status);v(new nt(rt,Z.message))}else v(new nt(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new nt(Q.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Qe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);it(Qe,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,a,15)})}T_(e,i,a){const u=Jf(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=x_(),p=M_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Qe,`Creating RPC '${e}' stream ${u}: ${A}`,v);const V=d.createWebChannel(A,v);this.I_(V);let x=!1,Y=!1;const Z=new CS({Yo:J=>{Y?it(Qe,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(x||(it(Qe,`Opening RPC '${e}' stream ${u} transport.`),V.open(),x=!0),it(Qe,`RPC '${e}' stream ${u} sending:`,J),V.send(J))},Zo:()=>V.close()}),rt=(J,Tt,pt)=>{J.listen(Tt,ct=>{try{pt(ct)}catch(qt){setTimeout(()=>{throw qt},0)}})};return rt(V,zl.EventType.OPEN,()=>{Y||(it(Qe,`RPC '${e}' stream ${u} transport opened.`),Z.o_())}),rt(V,zl.EventType.CLOSE,()=>{Y||(Y=!0,it(Qe,`RPC '${e}' stream ${u} transport closed`),Z.a_(),this.E_(V))}),rt(V,zl.EventType.ERROR,J=>{Y||(Y=!0,gs(Qe,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new nt(Q.UNAVAILABLE,"The operation could not be completed")))}),rt(V,zl.EventType.MESSAGE,J=>{if(!Y){const Tt=J.data[0];Bt(!!Tt,16349);const pt=Tt,ct=pt?.error||pt[0]?.error;if(ct){it(Qe,`RPC '${e}' stream ${u} received error:`,ct);const qt=ct.status;let vt=function(S){const w=pe[S];if(w!==void 0)return gv(w)}(qt),zt=ct.message;vt===void 0&&(vt=Q.INTERNAL,zt="Unknown error status: "+qt+" with message "+ct.message),Y=!0,Z.a_(new nt(vt,zt)),V.close()}else it(Qe,`RPC '${e}' stream ${u} received:`,Tt),Z.u_(Tt)}}),rt(p,O_.STAT_EVENT,J=>{J.stat===Bf.PROXY?it(Qe,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===Bf.NOPROXY&&it(Qe,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.__()},0),Z}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(s){return new MA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="PersistentStream";class Iv{constructor(e,i,a,u,h,d,p,v){this.Mi=e,this.S_=a,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Q.RESOURCE_EXHAUSTED?(Oi(i.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.D_===i&&this.G_(a,u)},a=>{e(()=>{const u=new nt(Q.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(u)})})}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(u=>{a(()=>this.z_(u))}),this.stream.onMessage(u=>{a(()=>++this.F_==1?this.J_(u):this.onNext(u))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return it(Wy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(it(Wy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IS extends Iv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=LA(this.serializer,e),a=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ti(d.readTime):yt.min()}(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Zf(this.serializer),i.addTarget=function(h,d){let p;const v=d.target;if(p=Gf(v)?{documents:BA(h,v)}:{query:qA(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=_v(h,d.resumeToken);const _=Yf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Wo(h,d.snapshotVersion.toTimestamp());const _=Yf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const a=jA(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Zf(this.serializer),i.removeTarget=e,this.q_(i)}}class NS extends Iv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=PA(e.writeResults,e.commitTime),a=ti(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Zf(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>zA(this.serializer,a))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{}class MS extends OS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new nt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,Xf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new nt(Q.UNKNOWN,h.toString())})}Ho(e,i,a,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(e,Xf(i,a),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(Q.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class xS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class US{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{da(this)&&(it(oa,"Restarting streams for network reachability change."),await async function(v){const _=_t(v);_.Ea.add(4),await au(_),_.Ra.set("Unknown"),_.Ea.delete(4),await gc(_)}(this))})}),this.Ra=new xS(a,u)}}async function gc(s){if(da(s))for(const e of s.da)await e(!0)}async function au(s){for(const e of s.da)await e(!1)}function Nv(s,e){const i=_t(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Rd(i)?bd(i):ws(i).O_()&&Sd(i,e))}function Ad(s,e){const i=_t(s),a=ws(i);i.Ia.delete(e),a.O_()&&Ov(i,e),i.Ia.size===0&&(a.O_()?a.L_():da(i)&&i.Ra.set("Unknown"))}function Sd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ws(s).Y_(e)}function Ov(s,e){s.Va.Ue(e),ws(s).Z_(e)}function bd(s){s.Va=new VA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ws(s).start(),s.Ra.ua()}function Rd(s){return da(s)&&!ws(s).x_()&&s.Ia.size>0}function da(s){return _t(s).Ea.size===0}function Mv(s){s.Va=void 0}async function LS(s){s.Ra.set("Online")}async function zS(s){s.Ia.forEach((e,i)=>{Sd(s,e)})}async function PS(s,e){Mv(s),Rd(s)?(s.Ra.ha(e),bd(s)):s.Ra.set("Unknown")}async function BS(s,e,i){if(s.Ra.set("Online"),e instanceof yv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.Ia.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.Ia.delete(p),u.Va.removeTarget(p))}(s,e)}catch(a){it(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ec(s,a)}else if(e instanceof ko?s.Va.Ze(e):e instanceof pv?s.Va.st(e):s.Va.tt(e),!i.isEqual(yt.min()))try{const a=await Cv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}}),p.targetMismatches.forEach((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(ke.EMPTY_BYTE_STRING,A.snapshotVersion)),Ov(h,v);const V=new or(A.target,v,_,A.sequenceNumber);Sd(h,V)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){it(oa,"Failed to raise snapshot:",a),await ec(s,a)}}async function ec(s,e,i){if(!bs(e))throw e;s.Ea.add(1),await au(s),s.Ra.set("Offline"),i||(i=()=>Cv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await gc(s)})}function xv(s,e){return e().catch(i=>ec(s,i,e))}async function pc(s){const e=_t(s),i=_r(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ud;for(;qS(e);)try{const u=await TS(e.localStore,a);if(u===null){e.Ta.length===0&&i.L_();break}a=u.batchId,kS(e,u)}catch(u){await ec(e,u)}Uv(e)&&Lv(e)}function qS(s){return da(s)&&s.Ta.length<10}function kS(s,e){s.Ta.push(e);const i=_r(s);i.O_()&&i.X_&&i.ea(e.mutations)}function Uv(s){return da(s)&&!_r(s).x_()&&s.Ta.length>0}function Lv(s){_r(s).start()}async function jS(s){_r(s).ra()}async function HS(s){const e=_r(s);for(const i of s.Ta)e.ea(i.mutations)}async function GS(s,e,i){const a=s.Ta.shift(),u=gd.from(a,e,i);await xv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await pc(s)}async function QS(s,e){e&&_r(s).X_&&await async function(a,u){if(function(d){return wA(d)&&d!==Q.ABORTED}(u.code)){const h=a.Ta.shift();_r(a).B_(),await xv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await pc(a)}}(s,e),Uv(s)&&Lv(s)}async function t_(s,e){const i=_t(s);i.asyncQueue.verifyOperationInProgress(),it(oa,"RemoteStore received new credentials");const a=da(i);i.Ea.add(3),await au(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await gc(i)}async function FS(s,e){const i=_t(s);e?(i.Ea.delete(2),await gc(i)):e||(i.Ea.add(2),await au(i),i.Ra.set("Unknown"))}function ws(s){return s.ma||(s.ma=function(i,a,u){const h=_t(i);return h.sa(),new IS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{Xo:LS.bind(null,s),t_:zS.bind(null,s),r_:PS.bind(null,s),H_:BS.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),Rd(s)?bd(s):s.Ra.set("Unknown")):(await s.ma.stop(),Mv(s))})),s.ma}function _r(s){return s.fa||(s.fa=function(i,a,u){const h=_t(i);return h.sa(),new NS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:jS.bind(null,s),r_:QS.bind(null,s),ta:HS.bind(null,s),na:GS.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await pc(s)):(await s.fa.stop(),s.Ta.length>0&&(it(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,p=new wd(e,i,d,u,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(s,e){if(Oi("AsyncQueue",`${e}: ${s}`),bs(s))return new nt(Q.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{static emptySet(e){return new ds(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ut.comparator(i.key,a.key):(i,a)=>ut.comparator(i.key,a.key),this.keyedMap=Pl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ds;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.ga=new ie(ut.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):dt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,a)=>{e.push(a)}),e}}class Es{constructor(e,i,a,u,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new Es(e,i,ds.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class XS{constructor(){this.queries=n_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const u=_t(i),h=u.queries;u.queries=n_(),h.forEach((d,p)=>{for(const v of p.Sa)v.onError(a)})})(this,new nt(Q.ABORTED,"Firestore shutting down"))}}function n_(){return new ha(s=>nv(s),oc)}async function KS(s,e){const i=_t(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(a=2):(h=new YS,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=Dd(d,`Initialization of query '${os(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Cd(i)}async function ZS(s,e){const i=_t(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function $S(s,e){const i=_t(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(u)&&(a=!0);d.wa=u}}a&&Cd(i)}function JS(s,e,i){const a=_t(s),u=a.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);a.queries.delete(e)}function Cd(s){s.Ca.forEach(e=>{e.next()})}var Wf,i_;(i_=Wf||(Wf={})).Ma="default",i_.Cache="cache";class WS{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new Es(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.key=e}}class Pv{constructor(e){this.key=e}}class tb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ct(),this.mutatedKeys=Ct(),this.eu=iv(e),this.tu=new ds(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new e_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,V)=>{const x=u.get(A),Y=cc(this.query,V)?V:null,Z=!!x&&this.mutatedKeys.has(x.key),rt=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let J=!1;x&&Y?x.data.isEqual(Y.data)?Z!==rt&&(a.track({type:3,doc:Y}),J=!0):this.su(x,Y)||(a.track({type:2,doc:Y}),J=!0,(v&&this.eu(Y,v)>0||_&&this.eu(Y,_)<0)&&(p=!0)):!x&&Y?(a.track({type:0,doc:Y}),J=!0):x&&!Y&&(a.track({type:1,doc:x}),J=!0,(v||_)&&(p=!0)),J&&(Y?(d=d.add(Y),h=rt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((A,V)=>function(Y,Z){const rt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:J})}};return rt(Y)-rt(Z)}(A.type,V.type)||this.eu(A.doc,V.doc)),this.ou(a),u=u??!1;const p=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Es(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ct(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const i=[];return e.forEach(a=>{this.Xa.has(a)||i.push(new Pv(a))}),this.Xa.forEach(a=>{e.has(a)||i.push(new zv(a))}),i}cu(e){this.Ya=e.Qs,this.Xa=Ct();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Es.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vd="SyncEngine";class eb{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class nb{constructor(e){this.key=e,this.hu=!1}}class ib{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha(p=>nv(p),oc),this.Iu=new Map,this.Eu=new Set,this.du=new ie(ut.comparator),this.Au=new Map,this.Ru=new _d,this.Vu={},this.mu=new Map,this.fu=vs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rb(s,e,i=!0){const a=Gv(s);let u;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await Bv(a,e,i,!0),u}async function ab(s,e){const i=Gv(s);await Bv(i,e,!0,!1)}async function Bv(s,e,i,a){const u=await AS(s.localStore,Wn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await sb(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Nv(s.remoteStore,u),p}async function sb(s,e,i,a,u){s.pu=(V,x,Y)=>async function(rt,J,Tt,pt){let ct=J.view.ru(Tt);ct.Cs&&(ct=await Ky(rt.localStore,J.query,!1).then(({documents:O})=>J.view.ru(O,ct)));const qt=pt&&pt.targetChanges.get(J.targetId),vt=pt&&pt.targetMismatches.get(J.targetId)!=null,zt=J.view.applyChanges(ct,rt.isPrimaryClient,qt,vt);return a_(rt,J.targetId,zt.au),zt.snapshot}(s,V,x,Y);const h=await Ky(s.localStore,e,!0),d=new tb(e,h.Qs),p=d.ru(h.documents),v=ru.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),_=d.applyChanges(p,s.isPrimaryClient,v);a_(s,i,_.au);const A=new eb(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function lb(s,e,i){const a=_t(s),u=a.Tu.get(e),h=a.Iu.get(u.targetId);if(h.length>1)return a.Iu.set(u.targetId,h.filter(d=>!oc(d,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await $f(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&Ad(a.remoteStore,u.targetId),td(a,u.targetId)}).catch(Ss)):(td(a,u.targetId),await $f(a.localStore,u.targetId,!0))}async function ub(s,e){const i=_t(s),a=i.Tu.get(e),u=i.Iu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ad(i.remoteStore,a.targetId))}async function ob(s,e,i){const a=pb(s);try{const u=await function(d,p){const v=_t(d),_=Jt.now(),A=p.reduce((Y,Z)=>Y.add(Z.key),Ct());let V,x;return v.persistence.runTransaction("Locally write mutations","readwrite",Y=>{let Z=Mi(),rt=Ct();return v.Ns.getEntries(Y,A).next(J=>{Z=J,Z.forEach((Tt,pt)=>{pt.isValidDocument()||(rt=rt.add(Tt))})}).next(()=>v.localDocuments.getOverlayedDocuments(Y,Z)).next(J=>{V=J;const Tt=[];for(const pt of p){const ct=TA(pt,V.get(pt.key).overlayedDocument);ct!=null&&Tt.push(new fa(pt.key,ct,X_(ct.value.mapValue),Ii.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,_,Tt,p)}).next(J=>{x=J;const Tt=J.applyToLocalDocumentSet(V,rt);return v.documentOverlayCache.saveOverlays(Y,J.batchId,Tt)})}).then(()=>({batchId:x.batchId,changes:av(V)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ie(Dt)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_}(a,u.batchId,i),await su(a,u.changes),await pc(a.remoteStore)}catch(u){const h=Dd(u,"Failed to persist write");i.reject(h)}}async function qv(s,e){const i=_t(s);try{const a=await vS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Au.get(h);d&&(Bt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Bt(d.hu,14607):u.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))}),await su(i,a,e)}catch(a){await Ss(a)}}function r_(s,e,i){const a=_t(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.Tu.forEach((h,d)=>{const p=d.view.va(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const v=_t(d);v.onlineState=p;let _=!1;v.queries.forEach((A,V)=>{for(const x of V.Sa)x.va(p)&&(_=!0)}),_&&Cd(v)}(a.eventManager,e),u.length&&a.Pu.H_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function cb(s,e,i){const a=_t(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Au.get(e),h=u&&u.key;if(h){let d=new ie(ut.comparator);d=d.insert(h,Ye.newNoDocument(h,yt.min()));const p=Ct().add(h),v=new dc(yt.min(),new Map,new ie(Dt),d,p);await qv(a,v),a.du=a.du.remove(h),a.Au.delete(e),Id(a)}else await $f(a.localStore,e,!1).then(()=>td(a,e,i)).catch(Ss)}async function hb(s,e){const i=_t(s),a=e.batch.batchId;try{const u=await _S(i.localStore,e);jv(i,a,null),kv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await su(i,u)}catch(u){await Ss(u)}}async function fb(s,e,i){const a=_t(s);try{const u=await function(d,p){const v=_t(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next(V=>(Bt(V!==null,37113),A=V.keys(),v.mutationQueue.removeMutationBatch(_,V))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(a.localStore,e);jv(a,e,i),kv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await su(a,u)}catch(u){await Ss(u)}}function kv(s,e){(s.mu.get(e)||[]).forEach(i=>{i.resolve()}),s.mu.delete(e)}function jv(s,e,i){const a=_t(s);let u=a.Vu[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Vu[a.currentUser.toKey()]=u}}function td(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(a=>{s.Ru.containsKey(a)||Hv(s,a)})}function Hv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Ad(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Id(s))}function a_(s,e,i){for(const a of i)a instanceof zv?(s.Ru.addReference(a.key,e),db(s,a)):a instanceof Pv?(it(Vd,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||Hv(s,a.key)):dt(19791,{wu:a})}function db(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(it(Vd,"New document in limbo: "+i),s.Eu.add(a),Id(s))}function Id(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ut($t.fromString(e)),a=s.fu.next();s.Au.set(a,new nb(i)),s.du=s.du.insert(i,a),Nv(s.remoteStore,new or(Wn(dd(i.path)),a,"TargetPurposeLimboResolution",sc.ce))}}async function su(s,e,i){const a=_t(s),u=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((p,v)=>{d.push(a.pu(v,e,i).then(_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=Ed.As(v.targetId,_);h.push(A)}}))}),await Promise.all(d),a.Pu.H_(u),await async function(v,_){const A=_t(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>X.forEach(_,x=>X.forEach(x.Es,Y=>A.persistence.referenceDelegate.addReference(V,x.targetId,Y)).next(()=>X.forEach(x.ds,Y=>A.persistence.referenceDelegate.removeReference(V,x.targetId,Y)))))}catch(V){if(!bs(V))throw V;it(Td,"Failed to update sequence numbers: "+V)}for(const V of _){const x=V.targetId;if(!V.fromCache){const Y=A.Ms.get(x),Z=Y.snapshotVersion,rt=Y.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(x,rt)}}}(a.localStore,h))}async function mb(s,e){const i=_t(s);if(!i.currentUser.isEqual(e)){it(Vd,"User change. New user:",e.toKey());const a=await Dv(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(p=>{p.forEach(v=>{v.reject(new nt(Q.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await su(i,a.Ls)}}function gb(s,e){const i=_t(s),a=i.Au.get(e);if(a&&a.hu)return Ct().add(a.key);{let u=Ct();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const p=i.Tu.get(d);u=u.unionWith(p.view.nu)}return u}}function Gv(s){const e=_t(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=qv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cb.bind(null,e),e.Pu.H_=$S.bind(null,e.eventManager),e.Pu.yu=JS.bind(null,e.eventManager),e}function pb(s){const e=_t(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fb.bind(null,e),e}class nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return yS(this.persistence,new mS,e.initialUser,this.serializer)}Cu(e){return new wv(vd.mi,this.serializer)}Du(e){return new bS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nc.provider={build:()=>new nc};class yb extends nc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Bt(this.persistence.referenceDelegate instanceof tc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new WA(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new wv(a=>tc.mi(a,i),this.serializer)}}class ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>r_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=mb.bind(null,this.syncEngine),await FS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XS}()}createDatastore(e){const i=mc(e.databaseInfo.databaseId),a=function(h){return new VS(h)}(e.databaseInfo);return function(h,d,p,v){return new MS(h,d,p,v)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,p){return new US(a,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>r_(this.syncEngine,i,0),function(){return Jy.v()?new Jy:new RS}())}createSyncEngine(e,i){return function(u,h,d,p,v,_,A){const V=new ib(u,h,d,p,v,_);return A&&(V.gu=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const a=_t(i);it(oa,"RemoteStore shutting down."),a.Ea.add(5),await au(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ed.provider={build:()=>new ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="FirestoreClient";class vb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Fe.UNAUTHENTICATED,this.clientId=ld.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Dd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Mf(s,e){s.asyncQueue.verifyOperationInProgress(),it(vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await Dv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function s_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Eb(s);it(vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>t_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>t_(e.remoteStore,u)),s._onlineComponents=e}async function Eb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(vr,"Using user provided OfflineComponentProvider");try{await Mf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Q.FAILED_PRECONDITION||u.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;gs("Error using user provided cache. Falling back to memory cache: "+i),await Mf(s,new nc)}}else it(vr,"Using default OfflineComponentProvider"),await Mf(s,new yb(void 0));return s._offlineComponents}async function Qv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(vr,"Using user provided OnlineComponentProvider"),await s_(s,s._uninitializedComponentsProvider._online)):(it(vr,"Using default OnlineComponentProvider"),await s_(s,new ed))),s._onlineComponents}function Tb(s){return Qv(s).then(e=>e.syncEngine)}async function l_(s){const e=await Qv(s),i=e.eventManager;return i.onListen=rb.bind(null,e.syncEngine),i.onUnlisten=lb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ab.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ub.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="firestore.googleapis.com",o_=!0;class c_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new nt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yv,this.ssl=o_}else this.host=e.host,this.ssl=e.ssl??o_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$A)throw new nt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fv(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new nt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new nt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new nt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new R1;switch(a.type){case"firstParty":return new V1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new nt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=u_.get(i);a&&(it("ComponentProvider","Removing Datastore"),u_.delete(i),a.terminate())}(this),Promise.resolve()}}function Ab(s,e,i,a={}){s=jl(s,yc);const u=rd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;u&&(J0(`https://${p}`),nT("Firestore",!0)),h.host!==Yv&&h.host!==p&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:u,emulatorOptions:a};if(!Go(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Fe.MOCK_USER;else{_=W0(a.mockUserToken,s._app?.options.projectId);const V=a.mockUserToken.sub||a.mockUserToken.user_id;if(!V)throw new nt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fe(V)}s._authCredentials=new w1(new L_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class be{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new be(this.firestore,e,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(nu(i,be._jsonSchema))return new be(e,a||null,new ut($t.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:_e("string",be._jsonSchemaVersion),referencePath:_e("string")};class dr extends ma{constructor(e,i,a){super(e,i,dd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new be(this.firestore,null,new ut(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function h_(s,e,...i){if(s=la(s),z_("collection","path",e),s instanceof yc){const a=$t.fromString(e,...i);return Ay(a),new dr(s,null,a)}{if(!(s instanceof be||s instanceof dr))throw new nt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return Ay(a),new dr(s.firestore,null,a)}}function Sb(s,e,...i){if(s=la(s),arguments.length===1&&(e=ld.newId()),z_("doc","path",e),s instanceof yc){const a=$t.fromString(e,...i);return Ty(a),new be(s,null,new ut(a))}{if(!(s instanceof be||s instanceof dr))throw new nt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return Ty(a),new be(s.firestore,s instanceof dr?s.converter:null,new ut(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="AsyncQueue";class d_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vv(this,"async_queue_retry"),this._c=()=>{const a=Of();a&&it(f_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Of();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Of();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new aa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bs(e))throw e;it(f_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",m_(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=wd.createAndSchedule(this,e,i,a,h=>this.hc(h));return this.tc.push(u),u}uc(){this.nc&&dt(47125,{Pc:m_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function m_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class ic extends yc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new d_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new d_(e),this._firestoreClient=void 0,await e}}}function bb(s,e){const i=typeof s=="object"?s:f1(),a=typeof s=="string"?s:Xo,u=l1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=Z0("firestore");h&&Ab(u,...h)}return u}function Xv(s){if(s._terminated)throw new nt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Rb(s),s._firestoreClient}function Rb(s){const e=s._freezeSettings(),i=function(u,h,d,p){return new F1(u,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Fv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new vb(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wn(ke.fromBase64String(e))}catch(i){throw new nt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new wn(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,wn._jsonSchema))return wn.fromBase64String(e.bytes)}}wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:_e("string",wn._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new nt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new nt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new nt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(nu(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:_e("string",ei._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ni(e.vectorValues);throw new nt(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:_e("string",ni._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=/^__.*__$/;class Db{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,i,this.fieldTransforms):new iu(e,this.data,i,this.fieldTransforms)}}function Zv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:s})}}class Od{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Od({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Zv(this.Ac)&&wb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Cb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||mc(e)}Cc(e,i,a,u=!1){return new Od({Ac:e,methodName:i,Dc:a,path:qe.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $v(s){const e=s._freezeSettings(),i=mc(s._databaseId);return new Cb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Vb(s,e,i,a,u,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,u);tE("Data must be an object, but it was:",d,a);const p=Jv(a,d);let v,_;if(h.merge)v=new Mn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const V of h.mergeFields){const x=Nb(e,V,i);if(!d.contains(x))throw new nt(Q.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Mb(A,x)||A.push(x)}v=new Mn(A),_=d.fieldTransforms.filter(V=>v.covers(V.field))}else v=null,_=d.fieldTransforms;return new Db(new Rn(p),v,_)}function Ib(s,e,i,a=!1){return Md(i,s.Cc(a?4:3,e))}function Md(s,e){if(Wv(s=la(s)))return tE("Unsupported field value:",e,s),Jv(s,e);if(s instanceof Kv)return function(a,u){if(!Zv(u.Ac))throw u.Sc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const p of a){let v=Md(p,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=la(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return gA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Jt.fromDate(a);return{timestampValue:Wo(u.serializer,h)}}if(a instanceof Jt){const h=new Jt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wo(u.serializer,h)}}if(a instanceof ei)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof wn)return{bytesValue:_v(u.serializer,a._byteString)};if(a instanceof be){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:yd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof ni)return function(d,p){return{mapValue:{fields:{[F_]:{stringValue:Y_},[Ko]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return md(p.serializer,_)})}}}}}}(a,u);throw u.Sc(`Unsupported field value: ${ac(a)}`)}(s,e)}function Jv(s,e){const i={};return q_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(s,(a,u)=>{const h=Md(u,e.mc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Wv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Jt||s instanceof ei||s instanceof wn||s instanceof be||s instanceof Kv||s instanceof ni)}function tE(s,e,i){if(!Wv(i)||!P_(i)){const a=ac(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Nb(s,e,i){if((e=la(e))instanceof Nd)return e._internalPath;if(typeof e=="string")return eE(s,e);throw rc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Ob=new RegExp("[~\\*/\\[\\]]");function eE(s,e,i){if(e.search(Ob)>=0)throw rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Nd(...e.split("."))._internalPath}catch{throw rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function rc(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${u}`),v+=")"),new nt(Q.INVALID_ARGUMENT,p+s+v)}function Mb(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(xd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xb extends nE{data(){return super.data()}}function xd(s,e){return typeof e=="string"?eE(s,e):e instanceof Nd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new nt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ud{}class iE extends Ud{}function Lb(s,e,...i){let a=[];e instanceof Ud&&a.push(e),a=a.concat(i),function(h){const d=h.filter(v=>v instanceof zd).length,p=h.filter(v=>v instanceof Ld).length;if(d>1||d>0&&p>0)throw new nt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class Ld extends iE{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Ld(e,i,a)}_apply(e){const i=this._parse(e);return rE(e._query,i),new ma(e.firestore,e.converter,Qf(e._query,i))}_parse(e){const i=$v(e.firestore);return function(h,d,p,v,_,A,V){let x;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){y_(V,A);const Z=[];for(const rt of V)Z.push(p_(v,h,rt));x={arrayValue:{values:Z}}}else x=p_(v,h,V)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||y_(V,A),x=Ib(p,d,V,A==="in"||A==="not-in");return ye.create(_,A,x)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class zd extends Ud{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new zd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:xn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,h){let d=u;const p=h.getFlattenedFilters();for(const v of p)rE(d,v),d=Qf(d,v)}(e._query,i),new ma(e.firestore,e.converter,Qf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pd extends iE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Pd(e,i)}_apply(e){const i=function(u,h,d){if(u.startAt!==null)throw new nt(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new nt(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(h,d)}(e._query,this._field,this._direction);return new ma(e.firestore,e.converter,function(u,h){const d=u.explicitOrderBy.concat([h]);return new Rs(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,i))}}function zb(s,e="asc"){const i=e,a=xd("orderBy",s);return Pd._create(a,i)}function p_(s,e,i){if(typeof(i=la(i))=="string"){if(i==="")throw new nt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ev(e)&&i.indexOf("/")!==-1)throw new nt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child($t.fromString(i));if(!ut.isDocumentKey(a))throw new nt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Iy(s,new ut(a))}if(i instanceof be)return Iy(s,i._key);throw new nt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ac(i)}.`)}function y_(s,e){if(!Array.isArray(s)||s.length===0)throw new nt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rE(s,e){const i=function(u,h){for(const d of u)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new nt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Pb{convertValue(e,i="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ca(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){const i=e.fields?.[Ko].arrayValue?.values?.map(a=>he(a.doubleValue));return new ni(i)}convertGeoPoint(e){return new ei(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=uc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=gr(e);return new Jt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=$t.fromString(e);Bt(bv(a),9688,{name:e});const u=new $l(a.get(1),a.get(3)),h=new ut(a.popFirst(5));return u.isEqual(i)||Oi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends nE{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(xd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=sa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:_e("string",sa._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class jo extends sa{data(e={}){return super.data(e)}}class ms{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new ql(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new jo(this._firestore,this._userDataWriter,a.key,a,new ql(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const v=new jo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new ql(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const v=new jo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new ql(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:qb(p.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ms._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ld.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],u=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}ms._jsonSchemaVersion="firestore/querySnapshot/1.0",ms._jsonSchema={type:_e("string",ms._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class aE extends Pb{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,i)}}function kb(s,e){const i=jl(s.firestore,ic),a=Sb(s),u=Bb(s.converter,e);return Hb(i,[Vb($v(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Ii.exists(!1))]).then(()=>a)}function jb(s,...e){s=la(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||g_(e[a])||(i=e[a++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(g_(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let h,d,p;if(s instanceof be)d=jl(s.firestore,ic),p=dd(s._key.path),h={next:v=>{e[a]&&e[a](Gb(d,s,v))},error:e[a+1],complete:e[a+2]};else{const v=jl(s,ma);d=jl(v.firestore,ic),p=v._query;const _=new aE(d);h={next:A=>{e[a]&&e[a](new ms(d,_,v,A))},error:e[a+1],complete:e[a+2]},Ub(s._query)}return function(_,A,V,x){const Y=new _b(x),Z=new WS(A,Y,V);return _.asyncQueue.enqueueAndForget(async()=>KS(await l_(_),Z)),()=>{Y.Nu(),_.asyncQueue.enqueueAndForget(async()=>ZS(await l_(_),Z))}}(Xv(d),p,u,h)}function Hb(s,e){return function(a,u){const h=new aa;return a.asyncQueue.enqueueAndForget(async()=>ob(await Tb(a),u,h)),h.promise}(Xv(s),e)}function Gb(s,e,i){const a=i.docs.get(e._key),u=new aE(s);return new sa(s,u,e._key,a,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){As=u})(h1),Fo(new Yl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new ic(new D1(a.getProvider("auth-internal")),new I1(d,a.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new nt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,A)}(d,u),d);return h={useFetchStreams:i,...h},p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),fs(yy,_y,e),fs(yy,_y,"esm2020")})();const Qb={apiKey:"AIzaSyCWy8tMO9_TLbEOo0bqVaGSa8Wu9TlfOYk",authDomain:"timeline-c9498.firebaseapp.com",projectId:"timeline-c9498",storageBucket:"timeline-c9498.firebasestorage.app",messagingSenderId:"261753458526",appId:"1:261753458526:web:27f4781cf4bf1a2aaf89cf"},Fb=w_(Qb),__=bb(Fb);function Yb(){const[s,e]=ls.useState([]),[i,a]=ls.useState(""),[u,h]=ls.useState(""),[d,p]=ls.useState("");ls.useEffect(()=>{try{const _=Lb(h_(__,"events"),zb("date")),A=jb(_,V=>{e(V.docs.map(x=>({id:x.id,...x.data()})))});return()=>A()}catch{p("Configura tus credenciales de Firebase en src/firebase.ts")}},[]);const v=async _=>{if(_.preventDefault(),!(!i||!u))try{await kb(h_(__,"events"),{date:i,description:u,created:Jt.now()}),a(""),h("")}catch{p("Error al guardar el evento. Revisa la configuracin de Firebase.")}};return ne.jsxs(ne.Fragment,{children:[ne.jsx("div",{className:"timeline-fullwidth",children:ne.jsxs("ul",{className:"timeline-list",children:[s.length===0&&ne.jsx("li",{className:"empty",children:"No hay eventos an."}),s.map((_,A)=>{const V=A%2===1;return ne.jsxs("li",{className:`timeline-event${V?" timeline-event--top":" timeline-event--bottom"}`,children:[ne.jsx("div",{className:"timeline-node-wrapper",children:ne.jsx("span",{className:"event-date"})}),V?ne.jsxs("div",{className:"timeline-card timeline-card--top",children:[ne.jsx("span",{className:"event-date-label",children:_.date}),ne.jsx("span",{className:"event-desc",children:_.description})]}):ne.jsxs("div",{className:"timeline-card timeline-card--bottom",children:[ne.jsx("span",{className:"event-date-label",children:_.date}),ne.jsx("span",{className:"event-desc",children:_.description})]})]},_.id||_.date+_.description)})]})}),ne.jsxs("div",{className:"event-form-footer",children:[d&&ne.jsx("div",{style:{color:"red",marginBottom:10},children:d}),ne.jsxs("form",{className:"event-form",onSubmit:v,style:{marginBottom:0},children:[ne.jsx("input",{type:"date",value:i,onChange:_=>a(_.target.value),required:!0}),ne.jsx("input",{type:"text",placeholder:"Descripcin del evento",value:u,onChange:_=>h(_.target.value),required:!0}),ne.jsx("button",{type:"submit",children:"Agregar evento"}),ne.jsx("button",{type:"button",className:"close-form-btn","aria-label":"Cerrar",style:{marginLeft:8,background:"#fff",color:"#00FABF",border:"1px solid #00FABF",borderRadius:6,padding:"0.5em 1em",fontWeight:"bold",cursor:"pointer"},children:""})]})]})]})}B0.createRoot(document.getElementById("root")).render(ne.jsx(ls.StrictMode,{children:ne.jsx(Yb,{})}));
